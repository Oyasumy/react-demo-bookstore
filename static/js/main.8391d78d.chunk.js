(this.webpackJsonpbookstore=this.webpackJsonpbookstore||[]).push([[0],{369:function(e,t,a){e.exports=a(583)},374:function(e,t,a){},578:function(e,t,a){},583:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"handleEditBook",(function(){return k})),a.d(n,"handleShowModel",(function(){return y})),a.d(n,"handleEditEmptyBook",(function(){return j})),a.d(n,"handleGetListBooks",(function(){return N})),a.d(n,"handleAddBooks",(function(){return S})),a.d(n,"handleEditBooks",(function(){return x})),a.d(n,"handleDeleteBooks",(function(){return C})),a.d(n,"handleUpdateQuantityBooksAfterCheckout",(function(){return B}));var c={};a.r(c),a.d(c,"handleAddToCart",(function(){return R})),a.d(c,"handleUpToCart",(function(){return M})),a.d(c,"handleDownToCart",(function(){return Q})),a.d(c,"handleDeleteToCart",(function(){return U})),a.d(c,"handleClearToCart",(function(){return L})),a.d(c,"handleAddCustomerBS",(function(){return H})),a.d(c,"handleDeleteCustomerBS",(function(){return z})),a.d(c,"handleUpdateDebtCustomerBS",(function(){return K}));var o={};a.r(o),a.d(o,"handleAddToCart",(function(){return ve})),a.d(o,"handleUpToCart",(function(){return Oe})),a.d(o,"handleDownToCart",(function(){return ke})),a.d(o,"handleDeleteToCart",(function(){return ye})),a.d(o,"handleClearToCart",(function(){return je}));var r=a(0),l=a.n(r),s=a(33),i=a.n(s),u=(a(374),a(79)),m=a(34),d=a(15),p=a(25),h=a.n(p),b=a(47),E=a(30),f=a(29),g=a(61),v=a(35),O=a.n(v),k=function(e){return{type:"EDIT_BOOK",payload:{data:e}}},y=function(){return{type:"SHOW_MODEL"}},j=function(){return{type:"EDIT_EMPTY_BOOK"}},N=function(e){return{type:"GET_LIST_BOOKS",payload:{data:e}}},S=function(e){return{type:"ADD_BOOKS",payload:{data:e}}},x=function(e){return{type:"SET_EDIT_BOOKS",payload:{data:e}}},C=function(e){return{type:"DELETE_BOOKS",payload:{data:e}}},B=function(e){return{type:"UPDATE_QUANTITY_AFTER_CHECKOUT",payload:{data:e}}},T="http://localhost:4000",w="There was an error from the server",D="Minimum wage amount must be ".concat(150),_="Unable to import book because the number of remaining books is greater than ".concat(300),A=Object(g.b)((function(e){return{listBooks:e.stateBook.books,cartData:e.cartList.cartBanSach,customer:e.cartList.customerBS}}),(function(e){return{actionBook:Object(f.b)(Object(d.a)({},n),e)}})),I=Object(f.d)(A)((function(e){var t=e.actionBook;return Object(r.useEffect)((function(){(function(){var e=Object(b.a)(h.a.mark((function e(){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(T,"/bookapi/books"));case 2:a=e.sent,n=a.data.data,t.handleGetListBooks(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),l.a.createElement("section",{className:"text-center my-5"},l.a.createElement("h2",{className:"h1-responsive font-weight-bold text-center my-5"},"Our bestsellers"),l.a.createElement("p",{className:"grey-text text-center w-responsive mx-auto mb-5"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fugit, error amet numquam iure provident voluptate esse quasi, veritatis totam voluptas nostrum quisquam eum porro a pariatur veniam."),l.a.createElement(E.j,null,l.a.createElement(E.d,{lg:"3",md:"6",className:"mb-lg-0 mb-4"},l.a.createElement(E.c,{collection:!0,className:"z-depth-1-half"},l.a.createElement("div",{className:"view zoom"},l.a.createElement("img",{src:"https://mdbootstrap.com/img/Photos/Horizontal/E-commerce/Vertical/5.jpg",className:"img-fluid",alt:""}),l.a.createElement("div",{className:"stripe dark"},l.a.createElement("a",{href:"#!"},l.a.createElement("p",null,"Red trousers ",l.a.createElement(E.e,{icon:"angle-right"}))))))),l.a.createElement(E.d,{lg:"3",md:"6",className:"mb-lg-0 mb-4"},l.a.createElement(E.c,{collection:!0,className:"z-depth-1-half"},l.a.createElement("div",{className:"view zoom"},l.a.createElement("img",{src:"https://mdbootstrap.com/img/Photos/Horizontal/E-commerce/Vertical/8.jpg",className:"img-fluid",alt:""}),l.a.createElement("div",{className:"stripe dark"},l.a.createElement("a",{href:"#!"},l.a.createElement("p",null,"Sweatshirt ",l.a.createElement(E.e,{icon:"angle-right"}))))))),l.a.createElement(E.d,{lg:"3",md:"6",className:"mb-lg-0 mb-4"},l.a.createElement(E.c,{collection:!0,className:"z-depth-1-half"},l.a.createElement("div",{className:"view zoom"},l.a.createElement("img",{src:"https://mdbootstrap.com/img/Photos/Horizontal/E-commerce/Vertical/9.jpg",className:"img-fluid",alt:""}),l.a.createElement("div",{className:"stripe dark"},l.a.createElement("a",{href:"#!"},l.a.createElement("p",null,"Accessories ",l.a.createElement(E.e,{icon:"angle-right"}))))))),l.a.createElement(E.d,{lg:"3",md:"6",className:"mb-lg-0 mb-4"},l.a.createElement(E.c,{collection:!0,className:"z-depth-1-half"},l.a.createElement("div",{className:"view zoom"},l.a.createElement("img",{src:"https://mdbootstrap.com/img/Photos/Horizontal/E-commerce/Vertical/7.jpg",className:"img-fluid",alt:""}),l.a.createElement("div",{className:"stripe dark"},l.a.createElement("a",{href:"#!"},l.a.createElement("p",null,"Sweatshirt ",l.a.createElement(E.e,{icon:"angle-right"})))))))))})),P=a(36),R=function(e){return{type:"ADD_TO_CART_BS",payload:{data:e}}},M=function(e){return{type:"UP_TO_CART_BS",payload:{data:e}}},Q=function(e){return{type:"DOWN_TO_CART_BS",payload:{data:e}}},U=function(e){return{type:"DELETE_TO_CART_BS",payload:{data:e}}},L=function(){return{type:"CLEAR_CART_BS"}},H=function(e){return{type:"ADD_CUSTOMER",payload:{data:e}}},z=function(){return{type:"DELETE_CUSTOMER"}},K=function(){return{type:"UPDATE_DEBT_CUSTOMER"}},F=a(31),J=a(634),W=a(635),V=a(631),G=a(626),$=a(102),q=function(e){var t=e.cart,a=e.upQuantity,n=e.downQuantity,c=e.deleteItem,o=l.a.createElement("div",{className:"row mb-4"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-4 col-lg-4",style:{paddingLeft:"5%"}},l.a.createElement("h5",null," ",l.a.createElement("span",null,"Name book:")," ",t.tensach),l.a.createElement("p",{className:"mb-3 text-muted text-uppercase small"},l.a.createElement("span",null,"ID book:  "),t.masach),l.a.createElement("p",{className:"mb-3 text-muted text-uppercase small"},l.a.createElement("span",null,"Price book:"),t.dongiaban),l.a.createElement("span",null,l.a.createElement("strong",{id:"summary"},"Cost: $ ",t.soluong*t.dongiaban))),l.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-4 col-lg-4"},l.a.createElement($.a.Group,null,l.a.createElement($.a,{onClick:function(){return a(t)}},"Up"),l.a.createElement($.a,null,l.a.createElement(G.a,{size:"small",value:t.soluong,type:"number",className:"text-center",disabled:!0})),l.a.createElement($.a,{onClick:function(){return n(t)}},"Down")),l.a.createElement("small",{id:"passwordHelpBlock",className:"form-text text-muted text-center"},"(Note, 1 piece)")),l.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12 "},l.a.createElement(E.b,{color:"deep-orange",className:"center",onClick:function(){return c(t)}}," ",l.a.createElement("i",{className:"fas fa-trash-alt mr-1"})," Remove item"," "))),l.a.createElement("hr",{className:"mb-4"}));return l.a.createElement(l.a.Fragment,null,t?o:"")},Y=a(630),X=a(42),Z=a(93),ee=a(632),te=a(189),ae=a.n(te),ne=function(e){var t=e.price,a=e.customer,n=e.getInfCus,c=e.checkoutBS,o=Object(r.useState)(""),s=Object(F.a)(o,2),i=s[0],u=s[1],m=Object(r.useState)(""),d=Object(F.a)(m,2),p=d[0],h=d[1],b=Object(r.useState)(0),f=Object(F.a)(b,2),g=f[0],v=f[1],O=Object(r.useState)(0),k=Object(F.a)(O,2),y=k[0],j=k[1],N=Object(r.useState)(0),S=Object(F.a)(N,2),x=S[0],C=S[1],B=Object(r.useState)(0),T=Object(F.a)(B,2),w=T[0],D=T[1];Object(r.useEffect)((function(){p?v(a.sotienno):!1===p&&v(0)}),[p,a.sotienno]),Object(r.useEffect)((function(){return 0===Object.entries(a).length&&0===t?(D(0),h(!1),v(0),j(0),C(0),void u("")):void 0===g?(D(0),void v(0)):void 0===t||null===t?(D(0),j(0),v(0),void C(0)):void D(parseInt(t)-parseInt(y)+parseInt(g||0))}),[t,y,g,a]),Object(r.useEffect)((function(){}),[t,a]);return l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"mb-3"},l.a.createElement("div",{className:"pt-4"},l.a.createElement("h5",{className:"mb-3"},"The total amount of"),l.a.createElement("ul",{className:"list-group list-group-flush"},l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center "},l.a.createElement(G.a,{action:function(){return l.a.createElement(E.b,{onClick:function(){return n(i)}},"Search")},placeholder:"Search...",onChange:function(e,t){var a=t.value;return u(a)}})),Object.keys(a).length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0"},"Customer name",l.a.createElement("span",null,a.tenkhachhang)),l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center px-0"},"Address",l.a.createElement("span",null,a.diachi)),l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center px-0"},"Debt",l.a.createElement("span",null,a.sotienno)),l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0"},l.a.createElement(Y.a,{label:l.a.createElement("label",null,"Pay the debt"),defaultChecked:p,onChange:function(e){return h(!p),void v(a.sotienno)}})),a.sotienno<2e4?l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0",style:{marginBottom:"5%"}},l.a.createElement(ae.a,{minValue:0,maxValue:Math.ceil(t/10),value:"".concat(y),onChange:function(e){return function(e){j(e)}(e)}})),l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0",style:{marginBottom:"5%"}},l.a.createElement($.a,{as:"div",labelPosition:"right"},l.a.createElement($.a,{basic:!0,color:"blue"},l.a.createElement(X.a,{name:"fork"}),"Debt"),l.a.createElement(Z.a,{as:"a",basic:!0,color:"blue",pointing:"left"},"Max: ",Math.ceil(t/10))))):l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0",style:{marginBottom:"5%"}},l.a.createElement(ee.a,{icon:!0},l.a.createElement(X.a,{name:"circle notched",loading:!0}),l.a.createElement(ee.a.Content,null,l.a.createElement(ee.a.Header,null,"Just one second"),"The amount of debt is greater than ",2e4," so it cannot be paid")))):l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0"},"Please add customer before check out",l.a.createElement("span",null,"Note!!"))),l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3"},l.a.createElement("div",null,l.a.createElement("strong",null,"The total amount of"),l.a.createElement("strong",null,l.a.createElement("p",{className:"mb-0"},"(including VAT)"))),l.a.createElement("span",null,l.a.createElement("strong",null,"$ ",w))),t>0?l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0",style:{marginBottom:"5%"}},"Money received",l.a.createElement(G.a,{labelPosition:"right",type:"text",placeholder:"Amount"},l.a.createElement(Z.a,{basic:!0},"$"),l.a.createElement("input",{value:x,onChange:function(e){return C(e.target.value)}}),l.a.createElement(Z.a,null,".00"))),l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0",style:{marginBottom:"5%"}},"Payments",l.a.createElement(G.a,{labelPosition:"right",type:"text",placeholder:"Amount"},l.a.createElement(Z.a,{basic:!0},"$"),l.a.createElement("input",{value:w,disabled:!0}),l.a.createElement(Z.a,null,".00"))),l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0",style:{marginBottom:"5%"}},"Rest",l.a.createElement(G.a,{labelPosition:"right",type:"text",placeholder:"Amount"},l.a.createElement(Z.a,{basic:!0},"$"),l.a.createElement("input",{value:x-w,disabled:!0}),l.a.createElement(Z.a,null,".00")))):""),l.a.createElement("button",{type:"button",className:"btn btn-primary btn-block",onClick:function(){return c(w,y,g,x,x-w)}},"go to checkout"))),l.a.createElement("div",{className:"mb-3"},l.a.createElement("div",{className:"pt-4"},l.a.createElement("a",{className:"dark-grey-text d-flex justify-content-between","data-toggle":"collapse",href:"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample"},"Add a discount code (optional)",l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-chevron-down pt-1"}))),l.a.createElement("div",{className:"collapse",id:"collapseExample"},l.a.createElement("div",{className:"mt-3"},l.a.createElement("div",{className:"md-form md-outline mb-0"},l.a.createElement("input",{type:"text",id:"discount-code",className:"form-control font-weight-light",placeholder:"Enter discount code"})))))))},ce=function(e){var t=e.cartData,a=e.downQuantity,n=e.upQuantity,c=e.deleteItem,o=e.getInfCus,r=e.customer,s=e.checkoutBS,i=0;return l.a.createElement("section",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-8"},l.a.createElement("div",{className:"mb-3"},l.a.createElement("div",{className:"pt-4 wish-list"},l.a.createElement("h5",{className:"mb-4"},"Cart (",l.a.createElement("span",null," ",t.length>0?t.length:0)," items)"),function(e){if(e){return e.map((function(e,t){return i+=e.dongiaban*e.soluong,l.a.createElement(q,{cart:e,key:t,upQuantity:n,deleteItem:c,downQuantity:a})}))}}(t),l.a.createElement("p",{className:"text-primary mb-0"},l.a.createElement("i",{className:"fas fa-info-circle mr-1"})," Do not delay the purchase, adding items to your cart does not mean booking them."))),l.a.createElement("div",{className:"mb-3"},l.a.createElement("div",{className:"pt-4"},l.a.createElement("h5",{className:"mb-4"},"Expected shipping delivery"),l.a.createElement("p",{className:"mb-0"}," Thu., 12.03. - Mon., 16.03.")))),l.a.createElement(ne,{getInfCus:o,customer:r,price:i,checkoutBS:s})))},oe=function(e){var t=e.books,a=e.cartData,n=e.upQuantity,c=e.deleteItem,o=e.downQuantity,s=e.getInfCus,i=e.addToCartBS,u=e.customer,m=e.checkoutBS,d=Object(r.useState)(""),p=Object(F.a)(d,2),h=p[0],b=p[1],f=Object(r.useState)({}),g=Object(F.a)(f,2),v=g[0],O=g[1];Object(r.useEffect)((function(){b(k(t))}),[t]);var k=function(e){var t=[];return e.map((function(e,a){var n={key:a,value:e.masach,text:e.tensach};return t.push(n)})),t};return l.a.createElement("div",null,l.a.createElement(J.a,{className:"bg-w"},l.a.createElement(W.a,{as:"h2"},"Dogs Roles with Humans"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-3 col-lg-3 mb-2 mt-5px"},l.a.createElement(V.a,{placeholder:"Select Book",options:h,onChange:function(e,a){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.map((function(t){return t.masach===e&&O(t),v}))}(a.value,t)}})),l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-3 col-lg-3 mb-2 mt-5px"},l.a.createElement(G.a,{type:"text",placeholder:v.tacgia,disabled:!0,tabIndex:"-1"})),l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-3 col-lg-3 mb-2 mt-5px"},l.a.createElement(G.a,{type:"text",placeholder:v.soluong>20?"\nQuantity can buy ".concat(v.soluong-20):"Can not be sold",disabled:!0})),l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-3 col-lg-3 mb-2"},l.a.createElement(E.b,{disabled:0===Object.entries(v).length,onClick:function(){i(v)}},"Add"))),l.a.createElement(J.a,null,l.a.createElement(ce,{cartData:a,upQuantity:n,deleteItem:c,downQuantity:o,getInfCus:s,customer:u,checkoutBS:m}))))},re=a(106),le=Object(g.b)((function(e){return{listBooks:e.stateBook.books,cartData:e.cartList.cartBanSach,customer:e.cartList.customerBS}}),(function(e){return{actionCartBS:Object(f.b)(Object(d.a)({},c),e),actionBook:Object(f.b)(Object(d.a)({},n),e)}})),se=Object(f.d)(le)((function(e){var t=e.listBooks,a=e.actionCartBS,n=e.cartData,c=e.customer,o=e.actionBook,r=Object(re.useToasts)().addToast,s=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(T,"/customer/").concat(t));case 2:n=e.sent,c=(c=n.data.data)[0],Object.keys(c).length>0&&a.handleAddCustomerBS(c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(b.a)(h.a.mark((function e(l,s,i,u,m){var d,p,E,f,g,v,k,y,j;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=[],n.length>0&&n.forEach((function(e){var a=t.filter((function(t){return t.masach===e.masach}));parseInt(a[0].soluong)-parseInt(e.soluong)<20&&d.push(e)})),!(c.sotienno>=2e4&&n.length>0)){e.next=6;break}return e.abrupt("return",r(" The debt amount exceeded the allowed debt amount",{appearance:"error",autoDismiss:!0}));case 6:if(!(d.length>0)){e.next=10;break}return e.abrupt("return",r("Inventory quantity is smaller than the minimum quantity",{appearance:"error",autoDismiss:!0}));case 10:if(!(n.length>0&&n)){e.next=40;break}if(p=Object(P.a)(n),e.prev=12,!(parseInt(s)>0||parseInt(i)>0)){e.next=22;break}return E={},f=parseInt(-i)+parseInt(s),e.next=18,O.a.get("".concat(T,"/SellBookApi/getphatsinh/").concat(c.makhachhang)).then(function(){var e=Object(b.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.data.data[0],E={makhachhang:c.makhachhang,nodau:a.nodau,phatsinh:a.phatsinh,sotien:f};case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 18:return e.next=20,O.a.post("".concat(T,"/SellBookApi/updatectcongno"),{data:E}).then((function(e){}));case 20:return e.next=22,O.a.post("".concat(T,"/customer/updatesotienno"),{data:{makh:c.makhachhang,sotienno:c.sotienno+f}}).then((function(e){}));case 22:return g=[],v=[],n.forEach((function(e){var a={masach:e.masach,soluong:e.soluong,gianhap:e.dongiaban};g.push(a);var n=t.filter((function(t){return t.masach===e.masach}))[0],c={masach:n.masach,soluong:n.soluong};v.push(c)})),k={makhachhang:c.makhachhang,detailBill:g,detailBooks:v,bill:{total:u,payment:l,rest:m}},e.next=28,O.a.post("".concat(T,"/SellBookApi/bill"),{data:k}).then((function(e){if(200===e.status)return p.forEach((function(e){e.soluong=-e.soluong})),o.handleUpdateQuantityBooksAfterCheckout(p),a.handleClearToCart(),a.handleDeleteCustomerBS(),r("Payment success",{appearance:"info",autoDismiss:!0})}));case 28:return y=[],n.forEach((function(e){var t={};t.masach=e.masach,y.push(t)})),y={sach:y},e.next=33,O.a.post("".concat(T,"/putbookapi/getphatsinh"),{data:y}).then(function(){var e=Object(b.a)(h.a.mark((function e(t){var a,c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("res",t),[],c=0,(o=Object(P.a)(t.data)).forEach((function(e){e.soluongcapnhat=-Math.abs(n[c].soluong),c++})),a={detailBooks:o},console.log("data post 2",a),e.next=9,O.a.post("".concat(T,"/putbookapi/updatectbaocaoton"),{data:a}).then((function(e){console.log("res 2",e)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("err",e)}));case 33:e.next=38;break;case 35:return e.prev=35,e.t0=e.catch(12),e.abrupt("return",r(w,{appearance:"error",autoDismiss:!0}));case 38:e.next=58;break;case 40:return e.prev=40,e.next=43,O.a.get("".concat(T,"/SellBookApi/getphatsinh/").concat(c.makhachhang)).then(function(){var e=Object(b.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.data.data[0],E={makhachhang:c.makhachhang,nodau:a.nodau,phatsinh:-a.phatsinh,sotien:l};case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 43:return e.next=45,O.a.post("".concat(T,"/SellBookApi/updatectcongno"),{data:E}).then((function(e){}));case 45:return e.next=47,O.a.post("".concat(T,"/customer/updatesotienno"),{data:{makh:c.makhachhang,sotienno:c.sotienno+-l}}).then((function(e){}));case 47:return e.next=49,O.a.post("".concat(T,"/SellBookApi/insertphieuthu"),{data:{makhachhang:c.makhachhang,sotien:l}}).then((function(e){}));case 49:return j=a.handleUpdateDebtCustomerBS,e.next=52,j();case 52:return e.abrupt("return",r("Payment success",{appearance:"info",autoDismiss:!0}));case 55:return e.prev=55,e.t1=e.catch(40),e.abrupt("return",r(w,{appearance:"error",autoDismiss:!0}));case 58:case"end":return e.stop()}}),e,null,[[12,35],[40,55]])})));return function(t,a,n,c,o){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(oe,{books:t,cartData:n,upQuantity:function(e){a.handleUpToCart(e)},deleteItem:function(e){a.handleDeleteToCart(e)},downQuantity:function(e){a.handleDownToCart(e)},getInfCus:s,addToCartBS:function(e){(0,a.handleAddToCart)(e)},customer:c,checkoutBS:i}))})),ie=a(633),ue=a(629),me=a(637),de=a(239),pe=function(e){var t=e.book;return l.a.createElement(ie.a.Row,{key:t.masach},l.a.createElement(ie.a.Cell,{collapsing:!0},l.a.createElement($.a.Group,null,l.a.createElement($.a,{onClick:function(){e.setEditBook(t),e.setOp()}},"Edit"),l.a.createElement($.a.Or,null),l.a.createElement($.a,{positive:!0,onClick:function(){return e.setDelete(t)}},"Delete"))),l.a.createElement(ie.a.Cell,null,t.tensach),l.a.createElement(ie.a.Cell,null,t.theloai),l.a.createElement(ie.a.Cell,null,t.tacgia),l.a.createElement(ie.a.Cell,null,t.soluong),l.a.createElement(ie.a.Cell,null,t.dongianhap),l.a.createElement(ie.a.Cell,null,t.dongiaban))},he=function(e){var t=e.open,a=e.bookEdit,n=Object(r.useState)({masach:-1,tensach:"",theloai:"",tacgia:"",soluong:"",dongiaban:"",dongianhap:""}),c=Object(F.a)(n,2),o=c[0],s=c[1];Object(r.useEffect)((function(){if(a)if(0===Object.keys(a).length)s({masach:-1,tensach:"",theloai:"",tacgia:"",soluong:"",dongiaban:"",dongianhap:""});else{var e=a.masach,t=a.tensach,n=a.theloai,c=a.tacgia,o=a.soluong,r=a.dongianhap;s({masach:e,tensach:t,theloai:n,tacgia:c,soluong:o,dongianhap:r})}}),[a]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(me.a,{size:"large",open:t,onClose:e.close},l.a.createElement(me.a.Header,null,"Delete Your Account"),l.a.createElement(me.a.Content,{scrolling:!0},l.a.createElement(de.a,{raised:!0},l.a.createElement(Z.a,{as:"a",color:"red",ribbon:!0},"Overview"),l.a.createElement("span",null,"Name Book"),l.a.createElement(G.a,{className:"m-3",fluid:!0,icon:"book",iconPosition:"left",placeholder:"Name Book",value:o.tensach,onChange:function(e,t){var a=t.value;return s(Object(d.a)(Object(d.a)({},o),{},{tensach:a}))}})),l.a.createElement(de.a,{raised:!0},l.a.createElement(Z.a,{as:"a",color:"orange",ribbon:!0},"Overview"),l.a.createElement("span",null,"Category"),l.a.createElement(G.a,{className:"m-3",fluid:!0,icon:"book",iconPosition:"left",placeholder:"Category",value:o.theloai,onChange:function(e,t){var a=t.value;return s(Object(d.a)(Object(d.a)({},o),{},{theloai:a}))}})),l.a.createElement(de.a,{raised:!0},l.a.createElement(Z.a,{as:"a",color:"teal",ribbon:!0},"Overview"),l.a.createElement("span",null,"Author"),l.a.createElement(G.a,{className:"m-3",fluid:!0,icon:"book",iconPosition:"left",placeholder:"Author",value:o.tacgia,onChange:function(e,t){var a=t.value;return s(Object(d.a)(Object(d.a)({},o),{},{tacgia:a}))}})),l.a.createElement(de.a,{raised:!0},l.a.createElement(Z.a,{as:"a",color:"yellow",ribbon:!0},"Overview"),l.a.createElement("span",null,"Quantity"),l.a.createElement(G.a,{className:"m-3",fluid:!0,icon:"book",iconPosition:"left",type:"number",placeholder:"Quantity",value:o.soluong,onChange:function(e,t){var a=t.value;return s(Object(d.a)(Object(d.a)({},o),{},{soluong:a}))}})),l.a.createElement(de.a,{raised:!0},l.a.createElement(Z.a,{as:"a",color:"brown",ribbon:!0},"Price In"),l.a.createElement("span",null,"Price In"),l.a.createElement(G.a,{className:"m-3",fluid:!0,icon:"book",iconPosition:"left",type:"number",placeholder:"Quantity",value:o.dongianhap,onChange:function(e,t){var a=t.value;return s(Object(d.a)(Object(d.a)({},o),{},{dongianhap:a}))}}))),l.a.createElement(me.a.Actions,null,l.a.createElement($.a,{negative:!0,onClick:e.close||e.setEmpty},"No"),l.a.createElement($.a,{positive:!0,icon:"checkmark",labelPosition:"right",content:"Yes",onClick:function(){o.masach<0?e.setApiAddBook(o):e.setApiEditBook(o)}}))))},be=function(e){var t=e.books,a=e.isShowModel,n=Object(r.useState)(!1),c=Object(F.a)(n,2),o=c[0],s=c[1],i=Object(r.useState)(1),u=Object(F.a)(i,2),m=u[0],d=u[1],p=Object(r.useState)(5),h=Object(F.a)(p,1)[0],b=Object(r.useState)(0),E=Object(F.a)(b,2),f=E[0],g=E[1];Object(r.useEffect)((function(){g(Math.ceil(t.length/h))}),[t,f,h]),Object(r.useEffect)((function(){s(a)}),[a]);var v=Object(P.a)(t),O=m*h-h,k=v.splice(O,h);return l.a.createElement("div",null,l.a.createElement("h1",null,"Sach"),l.a.createElement(he,{open:o,close:function(){e.setOpen()},bookEdit:e.bookEdit,setApiAddBook:e.setApiAddBook,setApiEditBook:e.setApiEditBook}),l.a.createElement(ie.a,{compact:!0,celled:!0,definition:!0},l.a.createElement(ie.a.Header,null,l.a.createElement(ie.a.Row,null,l.a.createElement(ie.a.HeaderCell,null),l.a.createElement(ie.a.HeaderCell,null,"Name"),l.a.createElement(ie.a.HeaderCell,null,"Category"),l.a.createElement(ie.a.HeaderCell,null,"Author"),l.a.createElement(ie.a.HeaderCell,null,"Quantity"),l.a.createElement(ie.a.HeaderCell,null,"Price In"),l.a.createElement(ie.a.HeaderCell,null,"Price Out"))),l.a.createElement(ie.a.Body,null,function(t){return t?t.map((function(t,a){return l.a.createElement(pe,{key:a,setDelete:e.setDelete,book:t,setEditBook:e.setEditBook,setOp:function(){return e.setOpen()}})})):null}(k)),l.a.createElement(ie.a.Footer,{fullWidth:!0},l.a.createElement(ie.a.Row,null,l.a.createElement(ie.a.HeaderCell,null),l.a.createElement(ie.a.HeaderCell,{colSpan:"3"},l.a.createElement(ue.a,{defaultActivePage:m,firstItem:null,lastItem:null,pointing:!0,secondary:!0,totalPages:f,onPageChange:function(e,t){d(t.activePage)}})),l.a.createElement(ie.a.HeaderCell,{colSpan:"3"},l.a.createElement($.a,{className:"control-table",icon:!0,labelPosition:"left",primary:!0,size:"small",onClick:function(){e.setOpen(),e.setEmpty()}},l.a.createElement(X.a,{name:"user"})," Add Book"))))))},Ee=Object(g.b)((function(e){return{listBooks:e.stateBook.books,editBook:e.stateBook.editBook,isShowModel:e.stateBook.isShowModel}}),(function(e){return{actionBook:Object(f.b)(Object(d.a)({},n),e)}})),fe=Object(f.d)(Ee)((function(e){var t=e.listBooks,a=e.actionBook,n=e.editBook,c=e.isShowModel,o=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.put("".concat(T,"/bookapi/books/").concat(t.masach),{sach:t});case 2:a.handleEditBooks(t),a.handleShowModel();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(T,"/bookapi/books"),{sach:t});case 2:a.handleAddBooks(t),a.handleShowModel();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(be,{books:t,setEditBook:function(e){(0,a.handleEditBook)(e)},setOpen:function(){a.handleShowModel()},bookEdit:n,isShowModel:c,setDelete:function(e){a.handleDeleteBooks(e)},setEmpty:function(){(0,a.handleEditEmptyBook)()},setApiAddBook:r,setApiEditBook:o}))})),ge=function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"NotFound"))},ve=function(e){return{type:"ADD_TO_CART_NS",payload:{data:e}}},Oe=function(e){return{type:"UP_TO_CART_NS",payload:{data:e}}},ke=function(e){return{type:"DOWN_TO_CART_NS",payload:{data:e}}},ye=function(e){return{type:"DELETE_TO_CART_NS",payload:{data:e}}},je=function(){return{type:"CLEAR_CART_NS"}},Ne=function(e){var t=e.cart,a=e.upQuantity,n=e.downQuantity,c=e.deleteItem,o=l.a.createElement("div",{className:"row mb-4"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-4 col-lg-4",style:{paddingLeft:"5%"}},l.a.createElement("h5",null," ",l.a.createElement("span",null,"Name book:")," ",t.tensach),l.a.createElement("p",{className:"mb-3 text-muted text-uppercase small"},l.a.createElement("span",null,"ID book:  "),t.masach),l.a.createElement("p",{className:"mb-3 text-muted text-uppercase small"},l.a.createElement("span",null,"Price book:"),t.dongianhap),l.a.createElement("span",null,l.a.createElement("strong",{id:"summary"},"Cost:  ",t.soluong*t.dongiaban," \u0111"))),l.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-4 col-lg-4"},l.a.createElement($.a.Group,null,l.a.createElement($.a,{onClick:function(){return a(t)}},"Up"),l.a.createElement($.a,null,l.a.createElement(G.a,{size:"small",value:t.soluong,type:"number",className:"text-center",disabled:!0})),l.a.createElement($.a,{onClick:function(){return n(t)}},"Down")),l.a.createElement("small",{id:"passwordHelpBlock",className:"form-text text-muted text-center"},"(Note, 1 piece)")),l.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12 "},l.a.createElement(E.b,{color:"deep-orange",className:"center",onClick:function(){return c(t)}}," ",l.a.createElement("i",{className:"fas fa-trash-alt mr-1"})," Remove item"," "))),l.a.createElement("hr",{className:"mb-4"}));return l.a.createElement(l.a.Fragment,null,t?o:"")},Se=function(e){var t=e.price,a=e.checkoutNS,n=Object(r.useState)(0),c=Object(F.a)(n,2),o=c[0],s=c[1];return console.log("price",t),Object(r.useEffect)((function(){s(t)}),[t]),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"mb-3"},l.a.createElement("div",{className:"pt-4"},l.a.createElement("h5",{className:"mb-3"},"The total amount of"),l.a.createElement("ul",{className:"list-group list-group-flush"},l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3"},l.a.createElement("div",null,l.a.createElement("strong",null,"The total amount of"),l.a.createElement("strong",null,l.a.createElement("p",{className:"mb-0"},"(including VAT)"))),l.a.createElement("span",null,l.a.createElement("strong",null,"$ ",o)))),l.a.createElement("button",{type:"button",className:"btn btn-primary btn-block",onClick:function(){return a(o)}},"go to checkout"))),l.a.createElement("div",{className:"mb-3"}))},xe=function(e){var t=e.cartData,a=e.downQuantity,n=e.upQuantity,c=e.deleteItem,o=e.checkoutNS,r=0;return l.a.createElement("section",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-8"},l.a.createElement("div",{className:"mb-3"},l.a.createElement("div",{className:"pt-4 wish-list"},l.a.createElement("h5",{className:"mb-4"},"Cart (",l.a.createElement("span",null," ",t.length>0?t.length:0)," items)"),function(e){if(e){return e.map((function(e,t){return r+=e.dongiaban*e.soluong,l.a.createElement(Ne,{cart:e,key:t,upQuantity:n,deleteItem:c,downQuantity:a})}))}}(t),l.a.createElement("p",{className:"text-primary mb-0"},l.a.createElement("i",{className:"fas fa-info-circle mr-1"})," Do not delay the purchase, adding items to your cart does not mean booking them."))),l.a.createElement("div",{className:"mb-3"},l.a.createElement("div",{className:"pt-4"},l.a.createElement("h5",{className:"mb-4"},"Expected shipping delivery"),l.a.createElement("p",{className:"mb-0"}," Thu., 12.03. - Mon., 16.03.")))),l.a.createElement(Se,{price:r,checkoutNS:o})))},Ce=function(e){var t=e.books,a=e.cartData,n=e.upQuantity,c=e.deleteItem,o=e.downQuantity,s=e.addToCartNS,i=e.checkoutNS,u=Object(r.useState)(""),m=Object(F.a)(u,2),d=m[0],p=m[1],h=Object(r.useState)({}),b=Object(F.a)(h,2),f=b[0],g=b[1],v=Object(r.useState)(150),O=Object(F.a)(v,2),k=O[0],y=O[1];Object(r.useEffect)((function(){p(j(t))}),[t]);var j=function(e){var t=[];return e.map((function(e,a){var n={key:a,value:e.masach,text:e.tensach};return t.push(n)})),t};return l.a.createElement("div",null,l.a.createElement(J.a,{className:"bg-w"},l.a.createElement(W.a,{as:"h2"},"Dogs Roles with Humans"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-4 col-lg-3 mb-2 mt-5px"},l.a.createElement(V.a,{placeholder:"Select Book",options:d,onChange:function(e,a){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.map((function(t){return t.masach===e&&g(t),f}))}(a.value,t)}})),l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-4 col-lg-3 mb-2 mt-5px"},l.a.createElement(G.a,{type:"text",placeholder:f.tacgia,disabled:!0,tabIndex:"-1"})),l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-4 col-lg-3 mb-2 mt-5px"},l.a.createElement(G.a,{type:"text",placeholder:f.soluong<300?"Can  be entered ":"Can not be sold",disabled:!0})),l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-4 col-lg-3mb-2 mt-5vh"},l.a.createElement(ae.a,{maxValue:1e3,value:"".concat(k),onChange:function(e){return function(e){console.log("e",e),y(e)}(e)}})),l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-4 col-lg-3 mt-5vh "},l.a.createElement(E.b,{disabled:0===Object.entries(f).length,onClick:function(){s(f,k)}},"Add"))),l.a.createElement(J.a,null,l.a.createElement(xe,{cartData:a,upQuantity:n,deleteItem:c,downQuantity:o,checkoutNS:i}))))},Be=Object(g.b)((function(e){return{listBooks:e.stateBook.books,cartData:e.cartList.cartNhapSach}}),(function(e){return{actionCartNS:Object(f.b)(Object(d.a)({},o),e),actionBook:Object(f.b)(Object(d.a)({},n),e)}})),Te=[{path:"/",main:I,exact:!0},{path:"/bansach",main:se,exact:!1},{path:"/nhapsach",main:Object(f.d)(Be)((function(e){var t=e.listBooks,a=e.actionCartNS,n=e.cartData,c=e.actionBook,o=Object(re.useToasts)().addToast,r=function(){var e=Object(b.a)(h.a.mark((function e(r){var l,s,i,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r){e.next=2;break}return e.abrupt("return");case 2:return console.log("tot",r,n),[],s=[],i=[],u=[],n.forEach((function(e){var a={};a.masach=e.masach,u.push(a);var n={masach:e.masach,soluong:e.soluong,gianhap:e.dongianhap},c=t.find((function(t){return t.masach===e.masach})),o={masach:c.masach,soluong:c.soluong};i.push(o),s.push(n)})),l={detailBill:s,detailBooks:i},u={sach:u},console.log("data post",{data:u}),e.next=13,O.a.post("".concat(T,"/putbookapi/getphatsinh"),{data:u}).then(function(){var e=Object(b.a)(h.a.mark((function e(t){var r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("res",t),[],s=0,t.data.forEach((function(e){e.soluongcapnhat=n[s].soluong,s++})),r={detailBooks:t.data},console.log("data post 2",r),e.next=8,O.a.post("".concat(T,"/putbookapi/updatectbaocaoton"),{data:r}).then(function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("res 2",t),console.log("data bill",l),e.next=4,O.a.post("".concat(T,"/putbookapi/bill"),{data:l}).then((function(e){return console.log("res 3",e),c.handleUpdateQuantityBooksAfterCheckout(n),a.handleClearToCart(),o("Payment success",{appearance:"info",autoDismiss:!0})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log("err",e),o(w,{appearance:"error",autoDismiss:!0})}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(Ce,{books:t,cartData:n,upQuantity:function(e){a.handleUpToCart(e)},deleteItem:function(e){a.handleDeleteToCart(e)},downQuantity:function(e){a.handleDownToCart(e)},addToCartNS:function(e,t){return console.log("data",e,t),e.soluong>300?o(_,{appearance:"error",autoDismiss:!0}):t<150?o(D,{appearance:"error",autoDismiss:!0}):(console.log("ok"),e.num=parseInt(t),void(0,a.handleAddToCart)(e))},checkoutNS:r}))})),exact:!1},{path:"/sach",main:fe,exact:!1},{path:"",main:ge,exact:!1}],we=(a(578),a(237)),De=function(){var e=Object(r.useState)("home"),t=Object(F.a)(e,2),a=t[0],n=t[1],c=function(e,t){var a=t.name;return n(a)},o=[{to:"/",label:"Trang Ch\u1ee7",exact:!0},{to:"/bansach",label:"B\xe1n S\xe1ch",exact:!1},{to:"/nhapsach",label:"Nh\u1eadp S\xe1ch",exact:!1},{to:"/sach",label:"Th\xf4ng tin S\xe1ch",exact:!1}],s=function(e){var t=e.label,n=e.to,o=e.exactOnlyWhenActive;return l.a.createElement(m.a,{path:n,exact:o,children:function(e){e.match;return l.a.createElement(we.a.Item,{as:u.b,to:n,name:t,link:!0,active:a===t,onClick:c})}})};return l.a.createElement(we.a,{pointing:!0},o.map((function(e){return l.a.createElement(s,{key:e.to,label:e.label,to:e.to,exactOnlyWhenActive:e.exact})})),l.a.createElement(we.a.Menu,{position:"right"},l.a.createElement(we.a.Item,null,l.a.createElement(G.a,{icon:"search",placeholder:"Search..."}))))};var _e=function(e){return e.map((function(e){return l.a.createElement(m.a,{key:e.path,path:e.path,exact:e.exact,component:e.main})}))},Ae=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(re.ToastProvider,{autoDismiss:!0,autoDismissTimeout:6e3},l.a.createElement(u.a,null,l.a.createElement(De,null),l.a.createElement(m.c,null,_e(Te)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(579);var Ie=a(353),Pe={books:[{masach:1,tensach:"pokemon",theloai:"hh",tacgia:"ntt",dongianhap:23,dongiaban:11,soluong:123},{masach:2,tensach:"conan",theloai:"hh",tacgia:"ntt",dongianhap:73,dongiaban:51,soluong:123}],editBook:{},isShowModel:!1},Re=function(e,t){for(var a=-1,n=e.books,c=0;c<n.length;c++)if(parseInt(n[c].masach)===parseInt(t.masach))return a=c;return a},Me=function(e,t){return e.forEach((function(e){t.filter((function(t){return t.masach===e.masach}))[0].soluong+=e.soluong})),t},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0,a=-1,n={},c="",o=e.books;switch(t.type){case"SHOW_MODEL":return Object(d.a)(Object(d.a)({},e),{},{isShowModel:!e.isShowModel});case"GET_LIST_BOOKS":return Object(d.a)(Object(d.a)({},e),{},{books:t.payload.data});case"EDIT_BOOK":return c=t.payload.data,Object(d.a)(Object(d.a)({},e),{},{editBook:c});case"EDIT_EMPTY_BOOK":return Object(d.a)(Object(d.a)({},e),{},{editBook:{}});case"ADD_BOOKS":return c=t.payload.data,n=(o=e.books).concat(c),Object(d.a)(Object(d.a)({},e),{},{books:n});case"DELETE_BOOKS":return c=t.payload.data,o=e.books,(a=Re(e,c))>0&&(n=[].concat(Object(P.a)(o.slice(0,a)),Object(P.a)(o.slice(a+1)))),Object(d.a)(Object(d.a)({},e),{},{books:n});case"SET_EDIT_BOOKS":var r=c=t.payload.data,l=r.dongianhap,s=(Object(Ie.a)(r,["dongianhap"]),Math.ceil(1.05*parseInt(l)));return c.dongiaban=s,o=e.books,n=(a=Re(e,c))>0?[].concat(Object(P.a)(o.slice(0,a)),[c],Object(P.a)(o.slice(a+1))):[c].concat(Object(P.a)(o.slice(a+1))),Object(d.a)(Object(d.a)({},e),{},{books:n});case"UPDATE_QUANTITY_AFTER_CHECKOUT":c=t.payload.data;var i=Me(c,o);return Object(d.a)(Object(d.a)({},e),{},{books:i});default:return e}},Ue={cartBanSach:[],cartNhapSach:[],customerBS:{}},Le=function(e,t){var a=-1;return e.forEach((function(e){e.masach===t.masach&&(e.soluong+=1,a=1)})),a<0&&e.push(Object(d.a)(Object(d.a)({},t),{},{soluong:1})),e},He=function(e,t){var a=-1;return e.forEach((function(e){e.masach===t.masach&&(e.soluong+=parseInt(t.num),a=1)})),a<0&&e.push(Object(d.a)(Object(d.a)({},t),{},{soluong:t.num})),e},ze=function(e,t){var a=-1;return e.forEach((function(e){e.masach===t.masach&&(e.soluong+=1,a=1)})),a<0&&e.push(Object(d.a)(Object(d.a)({},t),{},{soluong:t.num})),e},Ke=function(e,t){return e.forEach((function(e){e.masach===t.masach&&e.soluong>0&&(e.soluong-=1)})),e},Fe=function(e,t){return e.forEach((function(e){e.masach===t.masach&&e.soluong>150&&(e.soluong-=1)})),e},Je=function(e,t){for(var a=-1,n=0;n<t.length;n++)t[n].masach===e.masach&&(a=n);return a},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0,a=e.cartBanSach,n=e.cartNhapSach,c=null,o=null;switch(t.type){case"ADD_TO_CART_BS":case"UP_TO_CART_BS":return c=t.payload.data,o=Le(a,c),localStorage.setItem("carts",JSON.stringify(o)),Object(d.a)(Object(d.a)({},e),{},{cartBanSach:Object(P.a)(o)});case"DOWN_TO_CART_BS":return c=t.payload.data,o=Ke(a,c),localStorage.setItem("carts",JSON.stringify(o)),Object(d.a)(Object(d.a)({},e),{},{cartBanSach:Object(P.a)(o)});case"CLEAR_CART_BS":return localStorage.removeItem("carts"),Object(d.a)(Object(d.a)({},e),{},{cartBanSach:[]});case"DELETE_TO_CART_BS":c=t.payload.data;var r=Je(c,a);return o=a.splice(r,1),console.log("res",o),localStorage.setItem("carts",JSON.stringify(a)),Object(d.a)(Object(d.a)({},e),{},{cartBanSach:Object(P.a)(a)});case"ADD_CUSTOMER":return c=t.payload.data,localStorage.setItem("customerBS",JSON.stringify(c)),Object(d.a)(Object(d.a)({},e),{},{customerBS:c});case"UPDATE_DEBT_CUSTOMER":var l=Object(d.a)(Object(d.a)({},e.customerBS),{},{sotienno:0});return localStorage.setItem("customerBS",JSON.stringify(l)),Object(d.a)(Object(d.a)({},e),{},{customerBS:l});case"DELETE_CUSTOMER":return localStorage.removeItem("customerBS"),Object(d.a)(Object(d.a)({},e),{},{customerBS:{}});case"ADD_TO_CART_NS":return c=t.payload.data,console.log("red ns",c),o=He(n,c),localStorage.setItem("carts",JSON.stringify(o)),Object(d.a)(Object(d.a)({},e),{},{cartNhapSach:Object(P.a)(o)});case"UP_TO_CART_NS":return c=t.payload.data,o=ze(n,c),localStorage.setItem("carts",JSON.stringify(o)),Object(d.a)(Object(d.a)({},e),{},{cartNhapSach:Object(P.a)(o)});case"DOWN_TO_CART_NS":return c=t.payload.data,o=Fe(n,c),localStorage.setItem("carts",JSON.stringify(o)),Object(d.a)(Object(d.a)({},e),{},{cartNhapSach:Object(P.a)(o)});case"CLEAR_CART_NS":return localStorage.removeItem("carts"),Object(d.a)(Object(d.a)({},e),{},{cartNhapSach:[]});case"DELETE_TO_CART_NS":return c=t.payload.data,r=Je(c,n),o=n.splice(r,1),console.log("res",o),localStorage.setItem("carts",JSON.stringify(n)),Object(d.a)(Object(d.a)({},e),{},{cartNhapSach:Object(P.a)(n)});default:return e}},Ve=Object(f.c)({stateBook:Qe,cartList:We}),Ge=a(352),$e=h.a.mark(qe);function qe(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,!0;case 2:case"end":return e.stop()}}),$e)}var Ye=qe,Xe=f.d,Ze=Object(Ge.a)(),et=function(){var e=[Ze],t=[f.a.apply(void 0,e)],a=Object(f.e)(Ve,Xe.apply(void 0,t));return Ze.run(Ye),a},tt=(a(580),a(581),a(582),et());i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(g.a,{store:tt}," ",l.a.createElement(Ae,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[369,1,2]]]);
//# sourceMappingURL=main.8391d78d.chunk.js.map
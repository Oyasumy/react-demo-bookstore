(this.webpackJsonpbookstore=this.webpackJsonpbookstore||[]).push([[0],{377:function(e,t,a){e.exports=a(592)},382:function(e,t,a){},587:function(e,t,a){},592:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"handleEditBook",(function(){return k})),a.d(n,"handleShowModel",(function(){return y})),a.d(n,"handleEditEmptyBook",(function(){return N})),a.d(n,"handleGetListBooks",(function(){return j})),a.d(n,"handleAddBooks",(function(){return C})),a.d(n,"handleEditBooks",(function(){return x})),a.d(n,"handleDeleteBooks",(function(){return S})),a.d(n,"handleUpdateQuantityBooksAfterCheckout",(function(){return B})),a.d(n,"handleAddListDataReportBCT",(function(){return D})),a.d(n,"handleAddListDataReportBCCN",(function(){return T})),a.d(n,"handleUpdatePrice",(function(){return w}));var c={};a.r(c),a.d(c,"handleAddToCart",(function(){return z})),a.d(c,"handleUpToCart",(function(){return K})),a.d(c,"handleDownToCart",(function(){return F})),a.d(c,"handleDeleteToCart",(function(){return J})),a.d(c,"handleClearToCart",(function(){return W})),a.d(c,"handleAddCustomerBS",(function(){return G})),a.d(c,"handleDeleteCustomerBS",(function(){return V})),a.d(c,"handleUpdateDebtCustomerBS",(function(){return q}));var o={};a.r(o),a.d(o,"handleAddToCart",(function(){return Ce})),a.d(o,"handleUpToCart",(function(){return xe})),a.d(o,"handleDownToCart",(function(){return Se})),a.d(o,"handleDeleteToCart",(function(){return Be})),a.d(o,"handleClearToCart",(function(){return De}));var r=a(0),l=a.n(r),s=a(38),i=a.n(s),u=(a(382),a(82)),m=a(35),d=a(15),p=a(22),h=a.n(p),b=a(37),f=a(20),E=a(28),g=a(54),v=a(30),O=a.n(v),k=function(e){return{type:"EDIT_BOOK",payload:{data:e}}},y=function(){return{type:"SHOW_MODEL"}},N=function(){return{type:"EDIT_EMPTY_BOOK"}},j=function(e){return{type:"GET_LIST_BOOKS",payload:{data:e}}},C=function(e){return{type:"ADD_BOOKS",payload:{data:e}}},x=function(e){return{type:"SET_EDIT_BOOKS",payload:{data:e}}},S=function(e){return{type:"DELETE_BOOKS",payload:{data:e}}},B=function(e){return{type:"UPDATE_QUANTITY_AFTER_CHECKOUT",payload:{data:e}}},D=function(e){return{type:"ADD_DATA_REPORT_BCT",payload:{data:e}}},T=function(e){return{type:"ADD_DATA_REPORT_BCCN",payload:{data:e}}},w=function(e){return{type:"UPDATE_PRICE",payload:{data:e}}},A="https://bookstore-sever.herokuapp.com",_=2e4,I=20,R=300,P=150,M=1.05,U="There was an error from the server",L=Object(g.b)((function(e){return{listBooks:e.stateBook.books,cartData:e.cartList.cartBanSach,customer:e.cartList.customerBS}}),(function(e){return{actionBook:Object(E.b)(Object(d.a)({},n),e)}})),Q=Object(E.d)(L)((function(e){var t=e.actionBook;return Object(r.useEffect)((function(){(function(){var e=Object(b.a)(h.a.mark((function e(){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(A,"/bookapi/books"));case 2:a=e.sent,n=a.data.data,t.handleGetListBooks(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),l.a.createElement("section",{className:"text-center my-5"},l.a.createElement("h2",{className:"h1-responsive font-weight-bold text-center my-5"},"Our bestsellers"),l.a.createElement("p",{className:"grey-text text-center w-responsive mx-auto mb-5"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fugit, error amet numquam iure provident voluptate esse quasi, veritatis totam voluptas nostrum quisquam eum porro a pariatur veniam."),l.a.createElement(f.k,null,l.a.createElement(f.d,{lg:"3",md:"6",className:"mb-lg-0 mb-4"},l.a.createElement(f.c,{collection:!0,className:"z-depth-1-half"},l.a.createElement("div",{className:"view zoom"},l.a.createElement("img",{src:"https://mdbootstrap.com/img/Photos/Horizontal/E-commerce/Vertical/5.jpg",className:"img-fluid",alt:""}),l.a.createElement("div",{className:"stripe dark"},l.a.createElement("a",{href:"#!"},l.a.createElement("p",null,"Red trousers ",l.a.createElement(f.f,{icon:"angle-right"}))))))),l.a.createElement(f.d,{lg:"3",md:"6",className:"mb-lg-0 mb-4"},l.a.createElement(f.c,{collection:!0,className:"z-depth-1-half"},l.a.createElement("div",{className:"view zoom"},l.a.createElement("img",{src:"https://mdbootstrap.com/img/Photos/Horizontal/E-commerce/Vertical/8.jpg",className:"img-fluid",alt:""}),l.a.createElement("div",{className:"stripe dark"},l.a.createElement("a",{href:"#!"},l.a.createElement("p",null,"Sweatshirt ",l.a.createElement(f.f,{icon:"angle-right"}))))))),l.a.createElement(f.d,{lg:"3",md:"6",className:"mb-lg-0 mb-4"},l.a.createElement(f.c,{collection:!0,className:"z-depth-1-half"},l.a.createElement("div",{className:"view zoom"},l.a.createElement("img",{src:"https://mdbootstrap.com/img/Photos/Horizontal/E-commerce/Vertical/9.jpg",className:"img-fluid",alt:""}),l.a.createElement("div",{className:"stripe dark"},l.a.createElement("a",{href:"#!"},l.a.createElement("p",null,"Accessories ",l.a.createElement(f.f,{icon:"angle-right"}))))))),l.a.createElement(f.d,{lg:"3",md:"6",className:"mb-lg-0 mb-4"},l.a.createElement(f.c,{collection:!0,className:"z-depth-1-half"},l.a.createElement("div",{className:"view zoom"},l.a.createElement("img",{src:"https://mdbootstrap.com/img/Photos/Horizontal/E-commerce/Vertical/7.jpg",className:"img-fluid",alt:""}),l.a.createElement("div",{className:"stripe dark"},l.a.createElement("a",{href:"#!"},l.a.createElement("p",null,"Sweatshirt ",l.a.createElement(f.f,{icon:"angle-right"})))))))))})),H=a(31),z=function(e){return{type:"ADD_TO_CART_BS",payload:{data:e}}},K=function(e){return{type:"UP_TO_CART_BS",payload:{data:e}}},F=function(e){return{type:"DOWN_TO_CART_BS",payload:{data:e}}},J=function(e){return{type:"DELETE_TO_CART_BS",payload:{data:e}}},W=function(){return{type:"CLEAR_CART_BS"}},G=function(e){return{type:"ADD_CUSTOMER",payload:{data:e}}},V=function(){return{type:"DELETE_CUSTOMER"}},q=function(){return{type:"UPDATE_DEBT_CUSTOMER"}},$=a(23),Y=a(641),X=a(642),Z=a(638),ee=a(633),te=a(105),ae=function(e){var t=e.cart,a=e.upQuantity,n=e.downQuantity,c=e.deleteItem,o=l.a.createElement("div",{className:"row mb-4"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-4 col-lg-4",style:{paddingLeft:"5%"}},l.a.createElement("h5",null," ",l.a.createElement("span",null,"Name book:")," ",t.tensach),l.a.createElement("p",{className:"mb-3 text-muted text-uppercase small"},l.a.createElement("span",null,"ID book:  "),t.masach),l.a.createElement("p",{className:"mb-3 text-muted text-uppercase small"},l.a.createElement("span",null,"Price book:"),t.dongiaban),l.a.createElement("span",null,l.a.createElement("strong",{id:"summary"},"Cost: $ ",t.soluong*t.dongiaban))),l.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-4 col-lg-4"},l.a.createElement(te.a.Group,null,l.a.createElement(te.a,{onClick:function(){return a(t)}},"Up"),l.a.createElement(te.a,null,l.a.createElement(ee.a,{size:"small",value:t.soluong,type:"number",className:"text-center",disabled:!0})),l.a.createElement(te.a,{onClick:function(){return n(t)}},"Down")),l.a.createElement("small",{id:"passwordHelpBlock",className:"form-text text-muted text-center"},"(Note, 1 piece)")),l.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12 "},l.a.createElement(f.b,{color:"deep-orange",className:"center",onClick:function(){return c(t)}}," ",l.a.createElement("i",{className:"fas fa-trash-alt mr-1"})," Remove item"," "))),l.a.createElement("hr",{className:"mb-4"}));return l.a.createElement(l.a.Fragment,null,t?o:"")},ne=a(637),ce=a(43),oe=a(97),re=a(639),le=a(194),se=a.n(le),ie=function(e){var t=e.price,a=e.customer,n=e.getInfCus,c=e.checkoutBS,o=Object(r.useState)(""),s=Object($.a)(o,2),i=s[0],u=s[1],m=Object(r.useState)(""),d=Object($.a)(m,2),p=d[0],h=d[1],b=Object(r.useState)(0),E=Object($.a)(b,2),g=E[0],v=E[1],O=Object(r.useState)(0),k=Object($.a)(O,2),y=k[0],N=k[1],j=Object(r.useState)(0),C=Object($.a)(j,2),x=C[0],S=C[1],B=Object(r.useState)(0),D=Object($.a)(B,2),T=D[0],w=D[1];Object(r.useEffect)((function(){p?v(a.sotienno):!1===p&&v(0)}),[p,a.sotienno]),Object(r.useEffect)((function(){return 0===Object.entries(a).length&&0===t?(w(0),h(!1),v(0),N(0),S(0),void u("")):void 0===g?(w(0),void v(0)):void 0===t||null===t?(w(0),N(0),v(0),void S(0)):void w(parseInt(t)-parseInt(y)+parseInt(g||0))}),[t,y,g,a]),Object(r.useEffect)((function(){}),[t,a]);return l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"mb-3"},l.a.createElement("div",{className:"pt-4"},l.a.createElement("h5",{className:"mb-3"},"The total amount of"),l.a.createElement("ul",{className:"list-group list-group-flush"},l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center "},l.a.createElement(ee.a,{action:function(){return l.a.createElement(f.b,{onClick:function(){return n(i)}},"Search")},placeholder:"Search...",value:i,onChange:function(e,t){var a,n=t.value;return a=n,a=parseInt(a),console.log("v",a,typeof a),void(isNaN(a)||a.toString().length>12||u(a))}})),Object.keys(a).length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0"},"Customer name",l.a.createElement("span",null,a.tenkhachhang)),l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center px-0"},"Address",l.a.createElement("span",null,a.diachi)),l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center px-0"},"Debt",l.a.createElement("span",null,a.sotienno)),l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0"},l.a.createElement(ne.a,{label:l.a.createElement("label",null,"Pay the debt"),defaultChecked:p,onChange:function(e){return h(!p),void v(a.sotienno)}})),a.sotienno<_?l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0",style:{marginBottom:"5%"}},l.a.createElement(te.a,{as:"div",labelPosition:"right"},l.a.createElement(te.a,{basic:!0,color:"blue"},l.a.createElement(ce.a,{name:"fork"}),"Debt"),l.a.createElement(oe.a,{as:"a",basic:!0,color:"blue",pointing:"left"},"Max: ",Math.ceil(t/10)>=_?_:Math.ceil(t/10)))),l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0",style:{marginBottom:"5%"}},l.a.createElement(se.a,{minValue:0,maxValue:Math.ceil(t/10),value:"".concat(y),onChange:function(e){return function(e){N(e)}(e)}}))):l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0",style:{marginBottom:"5%"}},l.a.createElement(re.a,{icon:!0},l.a.createElement(ce.a,{name:"circle notched",loading:!0}),l.a.createElement(re.a.Content,null,l.a.createElement(re.a.Header,null,"Just one second"),"The amount of debt is greater than ",_," so it cannot be paid")))):l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0"},"Please add customer before check out",l.a.createElement("span",null,"Note!!"))),l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3"},l.a.createElement("div",null,l.a.createElement("strong",null,"The total amount of"),l.a.createElement("strong",null,l.a.createElement("p",{className:"mb-0"},"(including VAT)"))),l.a.createElement("span",null,l.a.createElement("strong",null,"$ ",T))),t>0?l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0",style:{marginBottom:"5%"}},"Money received",l.a.createElement(ee.a,{labelPosition:"right",type:"text",placeholder:"Amount"},l.a.createElement(oe.a,{basic:!0},"$"),l.a.createElement("input",{value:x,onChange:function(e){var t=parseInt(e.target.value);isNaN(t)||t.toString().length>12||S(t)}}),l.a.createElement(oe.a,null,".00"))),l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0",style:{marginBottom:"5%"}},"Payments",l.a.createElement(ee.a,{labelPosition:"right",type:"text",placeholder:"Amount"},l.a.createElement(oe.a,{basic:!0},"$"),l.a.createElement("input",{value:T,disabled:!0}),l.a.createElement(oe.a,null,".00"))),l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0",style:{marginBottom:"5%"}},"Rest",l.a.createElement(ee.a,{labelPosition:"right",type:"text",placeholder:"Amount"},l.a.createElement(oe.a,{basic:!0},"$"),l.a.createElement("input",{value:x-T,disabled:!0}),l.a.createElement(oe.a,null,".00")))):""),l.a.createElement("button",{type:"button",className:"btn btn-primary btn-block",onClick:function(){return c(T,y,g,x,x-T)}},"go to checkout"))),l.a.createElement("div",{className:"mb-3"},l.a.createElement("div",{className:"pt-4"},l.a.createElement("a",{className:"dark-grey-text d-flex justify-content-between","data-toggle":"collapse",href:"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample"},"Add a discount code (optional)",l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-chevron-down pt-1"}))),l.a.createElement("div",{className:"collapse",id:"collapseExample"},l.a.createElement("div",{className:"mt-3"},l.a.createElement("div",{className:"md-form md-outline mb-0"},l.a.createElement("input",{type:"text",id:"discount-code",className:"form-control font-weight-light",placeholder:"Enter discount code"})))))))},ue=function(e){var t=e.cartData,a=e.downQuantity,n=e.upQuantity,c=e.deleteItem,o=e.getInfCus,r=e.customer,s=e.checkoutBS,i=0;return l.a.createElement("section",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-8"},l.a.createElement("div",{className:"mb-3"},l.a.createElement("div",{className:"pt-4 wish-list"},l.a.createElement("h5",{className:"mb-4"},"Cart (",l.a.createElement("span",null," ",t.length>0?t.length:0)," items)"),function(e){if(e){return e.map((function(e,t){return i+=e.dongiaban*e.soluong,l.a.createElement(ae,{cart:e,key:t,upQuantity:n,deleteItem:c,downQuantity:a})}))}}(t),l.a.createElement("p",{className:"text-primary mb-0"},l.a.createElement("i",{className:"fas fa-info-circle mr-1"})," Do not delay the purchase, adding items to your cart does not mean booking them."))),l.a.createElement("div",{className:"mb-3"},l.a.createElement("div",{className:"pt-4"},l.a.createElement("h5",{className:"mb-4"},"Expected shipping delivery"),l.a.createElement("p",{className:"mb-0"}," Thu., 12.03. - Mon., 16.03.")))),l.a.createElement(ie,{getInfCus:o,customer:r,price:i,checkoutBS:s})))},me=function(e){var t=e.books,a=e.cartData,n=e.upQuantity,c=e.deleteItem,o=e.downQuantity,s=e.getInfCus,i=e.addToCartBS,u=e.customer,m=e.checkoutBS,d=Object(r.useState)(""),p=Object($.a)(d,2),h=p[0],b=p[1],E=Object(r.useState)({}),g=Object($.a)(E,2),v=g[0],O=g[1];Object(r.useEffect)((function(){b(k(t))}),[t]);var k=function(e){var t=[];return e.map((function(e,a){var n={key:a,value:e.masach,text:e.tensach};return t.push(n)})),t};return l.a.createElement("div",null,l.a.createElement(Y.a,{className:"bg-w"},l.a.createElement(X.a,{as:"h2"},"Dogs Roles with Humans"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-4 col-lg-3 mb-2 mt-5px"},l.a.createElement(Z.a,{placeholder:"Select Book",options:h,onChange:function(e,a){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.map((function(t){return t.masach===e&&O(t),v}))}(a.value,t)}})),l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-4 col-lg-3 mb-2 mt-5px"},l.a.createElement(ee.a,{type:"text",placeholder:v.tacgia,disabled:!0,tabIndex:"-1"})),l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-4 col-lg-3 mb-2 mt-5px"},l.a.createElement(ee.a,{type:"text",placeholder:v.dongiaban,disabled:!0,tabIndex:"-1"})),l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-4 col-lg-3 mb-2 mt-5px"},l.a.createElement(ee.a,{type:"text",placeholder:v.soluong>I?"\nQuantity can buy ".concat(v.soluong-I):"Can not be sold",disabled:!0})),l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-4 col-lg-3 mb-2"},l.a.createElement(f.b,{disabled:0===Object.entries(v).length,onClick:function(){i(v)}},"Add"))),l.a.createElement(Y.a,null,l.a.createElement(ue,{cartData:a,upQuantity:n,deleteItem:c,downQuantity:o,getInfCus:s,customer:u,checkoutBS:m}))))},de=a(53),pe=Object(g.b)((function(e){return{listBooks:e.stateBook.books,cartData:e.cartList.cartBanSach,customer:e.cartList.customerBS}}),(function(e){return{actionCartBS:Object(E.b)(Object(d.a)({},c),e),actionBook:Object(E.b)(Object(d.a)({},n),e)}})),he=Object(E.d)(pe)((function(e){var t=e.listBooks,a=e.actionCartBS,n=e.cartData,c=e.customer,o=e.actionBook,r=Object(de.useToasts)().addToast,s=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",r("Phone Customer is empty !!",{appearance:"error",autoDismiss:!0}));case 2:return e.next=4,O.a.get("".concat(A,"/customer/").concat(t)).then((function(e){var t=e.data.data;t=t[0],Object.keys(t).length>0&&a.handleAddCustomerBS(t)})).catch((function(e){return r(U,{appearance:"error",autoDismiss:!0})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(b.a)(h.a.mark((function e(l,s,i,u,m){var d,p,f,E,g,v,k,y,N;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Object.keys(c).length){e.next=2;break}return e.abrupt("return",r("Customer is not available !!",{appearance:"error",autoDismiss:!0}));case 2:if(!(parseInt(c.sotienno)+parseInt(s)>=_)){e.next=4;break}return e.abrupt("return",r("Can sell book with money debt is more than ".concat(_," !!"),{appearance:"error",autoDismiss:!0}));case 4:if(0!==l){e.next=6;break}return e.abrupt("return",r("Add pay debt or cart to payment !!",{appearance:"error",autoDismiss:!0}));case 6:if(d=[],n.length>0&&n.forEach((function(e){var a=t.filter((function(t){return t.masach===e.masach}));parseInt(a[0].soluong)-parseInt(e.soluong)<I&&d.push(e)})),!(c.sotienno>=_&&n.length>0)){e.next=12;break}return e.abrupt("return",r(" The debt amount exceeded the allowed debt amount",{appearance:"error",autoDismiss:!0}));case 12:if(!(d.length>0)){e.next=16;break}return e.abrupt("return",r("Inventory quantity is smaller than the minimum quantity",{appearance:"error",autoDismiss:!0}));case 16:if(!(n.length>0&&n)){e.next=48;break}if(!(u<l)){e.next=19;break}return e.abrupt("return",r("Money receive is not enough !!",{appearance:"error",autoDismiss:!0}));case 19:if(p=Object(H.a)(n),e.prev=20,!(parseInt(s)>0||parseInt(i)>0)){e.next=30;break}return f={},E=parseInt(-i)+parseInt(s),e.next=26,O.a.get("".concat(A,"/SellBookApi/getphatsinh/").concat(c.makhachhang)).then(function(){var e=Object(b.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.data.data[0],f={makhachhang:c.makhachhang,nodau:a.nodau,phatsinh:a.phatsinh,sotien:E};case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 26:return e.next=28,O.a.post("".concat(A,"/SellBookApi/updatectcongno"),{data:f}).then((function(e){}));case 28:return e.next=30,O.a.post("".concat(A,"/customer/updatesotienno"),{data:{makh:c.makhachhang,sotienno:c.sotienno+E}}).then((function(e){}));case 30:return g=[],v=[],n.forEach((function(e){var a={masach:e.masach,soluong:e.soluong,gianhap:e.dongiaban};g.push(a);var n=t.filter((function(t){return t.masach===e.masach}))[0],c={masach:n.masach,soluong:n.soluong};v.push(c)})),k={makhachhang:c.makhachhang,detailBill:g,detailBooks:v,bill:{total:u,payment:l,rest:m}},e.next=36,O.a.post("".concat(A,"/SellBookApi/bill"),{data:k}).then((function(e){if(200===e.status)return p.forEach((function(e){e.soluong=-e.soluong})),o.handleUpdateQuantityBooksAfterCheckout(p),a.handleClearToCart(),a.handleDeleteCustomerBS(),r("Payment success",{appearance:"info",autoDismiss:!0})}));case 36:return y=[],n.forEach((function(e){var t={};t.masach=e.masach,y.push(t)})),y={sach:y},e.next=41,O.a.post("".concat(A,"/putbookapi/getphatsinh"),{data:y}).then(function(){var e=Object(b.a)(h.a.mark((function e(t){var a,c,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return[],c=0,(o=Object(H.a)(t.data)).forEach((function(e){e.soluongcapnhat=-Math.abs(n[c].soluong),c++})),a={detailBooks:o},e.next=7,O.a.post("".concat(A,"/putbookapi/updatectbaocaoton"),{data:a}).then((function(e){}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){}));case 41:e.next=46;break;case 43:return e.prev=43,e.t0=e.catch(20),e.abrupt("return",r(U,{appearance:"error",autoDismiss:!0}));case 46:e.next=66;break;case 48:return e.prev=48,e.next=51,O.a.get("".concat(A,"/SellBookApi/getphatsinh/").concat(c.makhachhang)).then(function(){var e=Object(b.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.data.data[0],f={makhachhang:c.makhachhang,nodau:a.nodau,phatsinh:-a.phatsinh,sotien:l};case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 51:return e.next=53,O.a.post("".concat(A,"/SellBookApi/updatectcongno"),{data:f}).then((function(e){}));case 53:return e.next=55,O.a.post("".concat(A,"/customer/updatesotienno"),{data:{makh:c.makhachhang,sotienno:c.sotienno+-l}}).then((function(e){}));case 55:return e.next=57,O.a.post("".concat(A,"/SellBookApi/insertphieuthu"),{data:{makhachhang:c.makhachhang,sotien:l}}).then((function(e){}));case 57:return N=a.handleUpdateDebtCustomerBS,e.next=60,N();case 60:return e.abrupt("return",r("Payment success",{appearance:"info",autoDismiss:!0}));case 63:return e.prev=63,e.t1=e.catch(48),e.abrupt("return",r(U,{appearance:"error",autoDismiss:!0}));case 66:case"end":return e.stop()}}),e,null,[[20,43],[48,63]])})));return function(t,a,n,c,o){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(me,{books:t,cartData:n,upQuantity:function(e){a.handleUpToCart(e)},deleteItem:function(e){a.handleDeleteToCart(e)},downQuantity:function(e){a.handleDownToCart(e)},getInfCus:s,addToCartBS:function(e){if(console.log("book",e),e.soluong-I<0)return r("Can sell book with inventory lower is ".concat(I," !!"),{appearance:"error",autoDismiss:!0});(0,a.handleAddToCart)(e)},customer:c,checkoutBS:i}))})),be=a(640),fe=a(636),Ee=a(644),ge=a(242),ve=function(e){var t=e.book;return l.a.createElement(be.a.Row,{key:t.masach},l.a.createElement(be.a.Cell,{collapsing:!0},l.a.createElement(te.a.Group,null,l.a.createElement(te.a,{onClick:function(){e.setEditBook(t),e.setOp()}},"Edit"),l.a.createElement(te.a.Or,null),l.a.createElement(te.a,{positive:!0,onClick:function(){return e.setDelete(t)}},"Delete"))),l.a.createElement(be.a.Cell,null,t.tensach),l.a.createElement(be.a.Cell,null,t.theloai),l.a.createElement(be.a.Cell,null,t.tacgia),l.a.createElement(be.a.Cell,null,t.soluong),l.a.createElement(be.a.Cell,null,t.dongianhap),l.a.createElement(be.a.Cell,null,t.dongiaban))},Oe=function(e){var t=e.open,a=e.bookEdit,n=Object(r.useState)({masach:-1,tensach:"",theloai:"",tacgia:"",soluong:"",dongiaban:"",dongianhap:""}),c=Object($.a)(n,2),o=c[0],s=c[1];Object(r.useEffect)((function(){if(a)if(0===Object.keys(a).length)s({masach:-1,tensach:"",theloai:"",tacgia:"",soluong:"",dongiaban:"",dongianhap:""});else{var e=a.masach,t=a.tensach,n=a.theloai,c=a.tacgia,o=a.soluong,r=a.dongianhap;s({masach:e,tensach:t,theloai:n,tacgia:c,soluong:o,dongianhap:r})}}),[a]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ee.a,{size:"large",open:t,onClose:e.close},l.a.createElement(Ee.a.Header,null,o.masach>0?"Update a Book":"Add Book"),l.a.createElement(Ee.a.Content,{scrolling:!0},l.a.createElement(ge.a,{raised:!0},l.a.createElement(oe.a,{as:"a",color:"red",ribbon:!0},"Overview"),l.a.createElement("span",null,"Name Book"),l.a.createElement(ee.a,{className:"m-3",fluid:!0,icon:"book",iconPosition:"left",placeholder:"Name Book",value:o.tensach,onChange:function(e,t){var a=t.value;a.length<70&&s(Object(d.a)(Object(d.a)({},o),{},{tensach:a}))}})),l.a.createElement(ge.a,{raised:!0},l.a.createElement(oe.a,{as:"a",color:"orange",ribbon:!0},"Overview"),l.a.createElement("span",null,"Category"),l.a.createElement(ee.a,{className:"m-3",fluid:!0,icon:"book",iconPosition:"left",placeholder:"Category",value:o.theloai,onChange:function(e,t){var a=t.value;a.length<70&&s(Object(d.a)(Object(d.a)({},o),{},{theloai:a}))}})),l.a.createElement(ge.a,{raised:!0},l.a.createElement(oe.a,{as:"a",color:"teal",ribbon:!0},"Overview"),l.a.createElement("span",null,"Author"),l.a.createElement(ee.a,{className:"m-3",fluid:!0,icon:"book",iconPosition:"left",placeholder:"Author",value:o.tacgia,onChange:function(e,t){var a=t.value;a.length<40&&s(Object(d.a)(Object(d.a)({},o),{},{tacgia:a}))}}))),l.a.createElement(Ee.a.Actions,null,l.a.createElement(te.a,{negative:!0,onClick:e.close||e.setEmpty},"No"),l.a.createElement(te.a,{positive:!0,icon:"checkmark",labelPosition:"right",content:"Yes",onClick:function(){o.masach<0?e.setApiAddBook(o):e.setApiEditBook(o)}}))))},ke=function(e){var t=e.books,a=e.isShowModel,n=Object(r.useState)(!1),c=Object($.a)(n,2),o=c[0],s=c[1],i=Object(r.useState)(1),u=Object($.a)(i,2),m=u[0],d=u[1],p=Object(r.useState)(5),h=Object($.a)(p,1)[0],b=Object(r.useState)(0),f=Object($.a)(b,2),E=f[0],g=f[1];Object(r.useEffect)((function(){g(Math.ceil(t.length/h))}),[t,E,h]),Object(r.useEffect)((function(){s(a)}),[a]);var v=Object(H.a)(t),O=m*h-h,k=v.splice(O,h);return l.a.createElement("div",null,l.a.createElement("h1",null,"Sach"),l.a.createElement(Oe,{open:o,close:function(){e.setOpen()},bookEdit:e.bookEdit,setApiAddBook:e.setApiAddBook,setApiEditBook:e.setApiEditBook}),l.a.createElement(be.a,{compact:!0,celled:!0,definition:!0},l.a.createElement(be.a.Header,null,l.a.createElement(be.a.Row,null,l.a.createElement(be.a.HeaderCell,null),l.a.createElement(be.a.HeaderCell,null,"Name"),l.a.createElement(be.a.HeaderCell,null,"Category"),l.a.createElement(be.a.HeaderCell,null,"Author"),l.a.createElement(be.a.HeaderCell,null,"Quantity"),l.a.createElement(be.a.HeaderCell,null,"Price In"),l.a.createElement(be.a.HeaderCell,null,"Price Out"))),l.a.createElement(be.a.Body,null,function(t){return t?t.map((function(t,a){return l.a.createElement(ve,{key:a,setDelete:e.setDelete,book:t,setEditBook:e.setEditBook,setOp:function(){return e.setOpen()}})})):null}(k)),l.a.createElement(be.a.Footer,{fullWidth:!0},l.a.createElement(be.a.Row,null,l.a.createElement(be.a.HeaderCell,null),l.a.createElement(be.a.HeaderCell,{colSpan:"3"},l.a.createElement(fe.a,{defaultActivePage:m,firstItem:null,lastItem:null,pointing:!0,secondary:!0,totalPages:E,onPageChange:function(e,t){d(t.activePage)}})),l.a.createElement(be.a.HeaderCell,{colSpan:"3"},l.a.createElement(te.a,{className:"control-table",icon:!0,labelPosition:"left",primary:!0,size:"small",onClick:function(){e.setOpen(),e.setEmpty()}},l.a.createElement(ce.a,{name:"user"})," Add Book"))))))},ye=Object(g.b)((function(e){return{listBooks:e.stateBook.books,editBook:e.stateBook.editBook,isShowModel:e.stateBook.isShowModel}}),(function(e){return{actionBook:Object(E.b)(Object(d.a)({},n),e)}})),Ne=Object(E.d)(ye)((function(e){var t=e.listBooks,a=e.actionBook,n=e.editBook,c=e.isShowModel,o=Object(de.useToasts)().addToast,r=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.put("".concat(A,"/bookapi/books/").concat(t.masach),{sach:t}).then((function(e){if(console.log("res",e),201===e.status)return a.handleEditBooks(t),o("Success !!",{appearance:"info",autoDismiss:!0})})).catch((function(e){return o(U,{appearance:"error",autoDismiss:!0})}));case 2:a.handleShowModel();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(A,"/bookapi/books"),{sach:t}).then((function(e){if(console.log("res",e),201===e.status)return o("Success !!",{appearance:"info",autoDismiss:!0})})).catch((function(e){return o(U,{appearance:"error",autoDismiss:!0})}));case 2:a.handleAddBooks(t),a.handleShowModel();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(A,"/bookapi/booksd/").concat(t.masach)).then((function(e){if(console.log("res",e),201===e.status)return a.handleDeleteBooks(t),o("Success !!",{appearance:"info",autoDismiss:!0})})).catch((function(e){return o(U+" OR error foreign key constraint ",{appearance:"error",autoDismiss:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(ke,{books:t,setEditBook:function(e){(0,a.handleEditBook)(e)},setOpen:function(){a.handleShowModel()},bookEdit:n,isShowModel:c,setDelete:i,setEmpty:function(){(0,a.handleEditEmptyBook)()},setApiAddBook:s,setApiEditBook:r}))})),je=function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"NotFound"))},Ce=function(e){return{type:"ADD_TO_CART_NS",payload:{data:e}}},xe=function(e){return{type:"UP_TO_CART_NS",payload:{data:e}}},Se=function(e){return{type:"DOWN_TO_CART_NS",payload:{data:e}}},Be=function(e){return{type:"DELETE_TO_CART_NS",payload:{data:e}}},De=function(){return{type:"CLEAR_CART_NS"}},Te=function(e){var t=e.cart,a=e.upQuantity,n=e.downQuantity,c=e.deleteItem,o=l.a.createElement("div",{className:"row mb-4"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-4 col-lg-4",style:{paddingLeft:"5%"}},l.a.createElement("h5",null," ",l.a.createElement("span",null,"Name book:")," ",t.tensach),l.a.createElement("p",{className:"mb-3 text-muted text-uppercase small"},l.a.createElement("span",null,"ID book:  "),t.masach),l.a.createElement("p",{className:"mb-3 text-muted text-uppercase small"},l.a.createElement("span",null,"Price book:"),t.dongianhap),l.a.createElement("span",null,l.a.createElement("strong",{id:"summary"},"Cost:  ",t.soluong*t.dongiaban," \u0111"))),l.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-4 col-lg-4"},l.a.createElement(te.a.Group,null,l.a.createElement(te.a,{onClick:function(){return a(t)}},"Up"),l.a.createElement(te.a,null,l.a.createElement(ee.a,{size:"small",value:t.soluong,type:"number",className:"text-center",disabled:!0})),l.a.createElement(te.a,{onClick:function(){return n(t)}},"Down")),l.a.createElement("small",{id:"passwordHelpBlock",className:"form-text text-muted text-center"},"(Note, 1 piece)")),l.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12 "},l.a.createElement(f.b,{color:"deep-orange",className:"center",onClick:function(){return c(t)}}," ",l.a.createElement("i",{className:"fas fa-trash-alt mr-1"})," Remove item"," "))),l.a.createElement("hr",{className:"mb-4"}));return l.a.createElement(l.a.Fragment,null,t?o:"")},we=function(e){var t=e.price,a=e.checkoutNS,n=Object(r.useState)(0),c=Object($.a)(n,2),o=c[0],s=c[1];return Object(r.useEffect)((function(){s(t)}),[t]),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"mb-3"},l.a.createElement("div",{className:"pt-4"},l.a.createElement("h5",{className:"mb-3"},"The total amount of"),l.a.createElement("ul",{className:"list-group list-group-flush"},l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3"},l.a.createElement("div",null,l.a.createElement("strong",null,"The total amount of"),l.a.createElement("strong",null,l.a.createElement("p",{className:"mb-0"},"(including VAT)"))),l.a.createElement("span",null,l.a.createElement("strong",null,"$ ",o)))),l.a.createElement("button",{type:"button",className:"btn btn-primary btn-block",onClick:function(){return a(o)}},"go to checkout"))),l.a.createElement("div",{className:"mb-3"}))},Ae=function(e){var t=e.cartData,a=e.downQuantity,n=e.upQuantity,c=e.deleteItem,o=e.checkoutNS,r=0;return l.a.createElement("section",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-8"},l.a.createElement("div",{className:"mb-3"},l.a.createElement("div",{className:"pt-4 wish-list"},l.a.createElement("h5",{className:"mb-4"},"Cart (",l.a.createElement("span",null," ",t.length>0?t.length:0)," items)"),function(e){if(e){return e.map((function(e,t){return r+=e.dongiaban*e.soluong,l.a.createElement(Te,{cart:e,key:t,upQuantity:n,deleteItem:c,downQuantity:a})}))}}(t),l.a.createElement("p",{className:"text-primary mb-0"},l.a.createElement("i",{className:"fas fa-info-circle mr-1"})," Do not delay the purchase, adding items to your cart does not mean booking them."))),l.a.createElement("div",{className:"mb-3"},l.a.createElement("div",{className:"pt-4"},l.a.createElement("h5",{className:"mb-4"},"Expected shipping delivery"),l.a.createElement("p",{className:"mb-0"}," Thu., 12.03. - Mon., 16.03.")))),l.a.createElement(we,{price:r,checkoutNS:o})))},_e=function(e){var t=e.books,a=e.cartData,n=e.upQuantity,c=e.deleteItem,o=e.downQuantity,s=e.addToCartNS,i=e.updatePrice,u=e.checkoutNS,m=Object(r.useState)(""),d=Object($.a)(m,2),p=d[0],h=d[1],b=Object(r.useState)({}),E=Object($.a)(b,2),g=E[0],v=E[1],O=Object(r.useState)(1),k=Object($.a)(O,2),y=k[0],N=k[1],j=Object(r.useState)(P),C=Object($.a)(j,2),x=C[0],S=C[1];Object(r.useEffect)((function(){h(B(t))}),[t]);var B=function(e){var t=[];return e.map((function(e,a){var n={key:a,value:e.masach,text:e.tensach};return t.push(n)})),t};Object(r.useEffect)((function(){N(g.dongianhap)}),[g]);return l.a.createElement("div",null,l.a.createElement(Y.a,{className:"bg-w"},l.a.createElement(X.a,{as:"h2"},"Dogs Roles with Humans"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-6 col-lg-6 mb-2 mt-5px"},l.a.createElement(ee.a,{type:"text",placeholder:g.dongianhap,value:y,name:"dongianhap",onChange:function(e){var t=Math.abs(parseInt(e.target.value));console.log("up",t,t.toString().length),t.toString().length<9&&t&&(N(t),console.log("up2",t))},tabIndex:"-1"})),l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-6 col-lg-6 mb-2 mt-5px"},l.a.createElement(f.b,{disabled:0===Object.entries(g).length,onClick:function(){return i(y,g.masach)}},"Update Price")),l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-4 col-lg-3 mb-2 mt-5px"},l.a.createElement(Z.a,{placeholder:"Select Book",options:p,onChange:function(e,a){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.map((function(t){return t.masach===e&&v(t),g}))}(a.value,t)}})),l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-4 col-lg-3 mb-2 mt-5px"},l.a.createElement(ee.a,{type:"text",placeholder:g.tacgia,disabled:!0,tabIndex:"-1"})),l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-4 col-lg-3 mb-2 mt-5px"},l.a.createElement(ee.a,{type:"text",placeholder:g.soluong<R?"Can  be entered ":"Can not be sold",disabled:!0})),l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-6 col-lg-6 mb-2 mt-5vh"},l.a.createElement(se.a,{maxValue:1e3,value:"".concat(x),onChange:function(e){return function(e){S(e)}(e)}})),l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-4 col-lg-3 mt-5vh "},l.a.createElement(f.b,{disabled:0===Object.entries(g).length,onClick:function(){s(g,x)}},"Add"))),l.a.createElement(Y.a,null,l.a.createElement(Ae,{cartData:a,upQuantity:n,deleteItem:c,downQuantity:o,checkoutNS:u}))))},Ie=Object(g.b)((function(e){return{listBooks:e.stateBook.books,cartData:e.cartList.cartNhapSach}}),(function(e){return{actionCartNS:Object(E.b)(Object(d.a)({},o),e),actionBook:Object(E.b)(Object(d.a)({},n),e)}})),Re=Object(E.d)(Ie)((function(e){var t=e.listBooks,a=e.actionCartNS,n=e.cartData,c=e.actionBook,o=Object(de.useToasts)().addToast,r=function(){var e=Object(b.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("up",t,a),n={masach:a,dongianhap:t},e.next=4,O.a.post("".concat(A,"/bookapi/bookupdateprice"),{sach:{masach:a,dongianhap:t}}).then((function(e){if(console.log("res",e),201===e.status)return c.handleUpdatePrice(n),o("Success !!",{appearance:"info",autoDismiss:!0})})).catch((function(e){return o(U,{appearance:"error",autoDismiss:!0})}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),s=function(){var e=Object(b.a)(h.a.mark((function e(r){var l,s,i,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r){e.next=2;break}return e.abrupt("return",o("Ad cart to payment !!",{appearance:"error",autoDismiss:!0}));case 2:return[],s=[],i=[],u=[],n.forEach((function(e){var a={};a.masach=e.masach,u.push(a);var n={masach:e.masach,soluong:e.soluong,gianhap:e.dongianhap},c=t.find((function(t){return t.masach===e.masach})),o={masach:c.masach,soluong:c.soluong};i.push(o),s.push(n)})),l={detailBill:s,detailBooks:i},u={sach:u},e.next=11,O.a.post("".concat(A,"/putbookapi/getphatsinh"),{data:u}).then(function(){var e=Object(b.a)(h.a.mark((function e(t){var r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return[],s=0,t.data.forEach((function(e){e.soluongcapnhat=n[s].soluong,s++})),r={detailBooks:t.data},e.next=6,O.a.post("".concat(A,"/putbookapi/updatectbaocaoton"),{data:r}).then(function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(A,"/putbookapi/bill"),{data:l}).then((function(e){return c.handleUpdateQuantityBooksAfterCheckout(n),a.handleClearToCart(),o("Payment success",{appearance:"info",autoDismiss:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return o(U,{appearance:"error",autoDismiss:!0})}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(_e,{books:t,cartData:n,upQuantity:function(e){a.handleUpToCart(e)},deleteItem:function(e){a.handleDeleteToCart(e)},downQuantity:function(e){a.handleDownToCart(e)},addToCartNS:function(e,t){return e.soluong>R?o("Unable to import book because the number of remaining books is greater than ".concat(R),{appearance:"error",autoDismiss:!0}):t<P?o(function(e){return"Minimum wage amount must be ".concat(e)}(P),{appearance:"error",autoDismiss:!0}):(e.num=parseInt(t),void(0,a.handleAddToCart)(e))},checkoutNS:s,updatePrice:r}))}));function Pe(e){var t=e.postData,a=e.datatableBCT,n=e.datatableBCCN,c=l.a.useState({}),o=Object($.a)(c,2),s=o[0],i=o[1],u=l.a.useState({}),m=Object($.a)(u,2),d=m[0],p=m[1];Object(r.useEffect)((function(){a.length>0&&(i({columns:[{label:"Inventory Report Detail",field:"mactbaocaoton",width:100,attributes:{"aria-controls":"DataTable","aria-label":"Inventory Report"}},{label:"Inventory Report",field:"mabaocaoton",width:100},{label:"Book ID",field:"masach",width:100},{label:"Name Book",field:"tensach",sort:"asc",width:200},{label:"Initial Inventory",field:"tondau",sort:"asc",width:150},{label:"Quantity Arising",field:"phatsinh",sort:"asc",width:150},{label:"Last Inventory",field:"toncuoi",sort:"asc",width:150}],rows:a}),p({})),n.length>0&&(p({columns:[{label:"Debt Report Detail",field:"mactcongno",width:100,attributes:{"aria-controls":"DataTable","aria-label":"Debt Report"}},{label:"Debt Report",field:"macongno",width:100},{label:"Customer ID",field:"makhachhang",width:100},{label:"Name Customer",field:"tenkhachhang",sort:"asc",width:200},{label:"Initial Debt",field:"nodau",sort:"asc",width:150},{label:"Quantity Arising",field:"phatsinh",sort:"asc",width:150},{label:"Last Debt",field:"nocuoi",sort:"asc",width:150}],rows:n}),i({}))}),[a,n]);var h=Object(r.useState)(0),b=Object($.a)(h,2),E=b[0],g=b[1],v=Object(r.useState)(0),O=Object($.a)(v,2),k=O[0],y=O[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(Y.a,null,l.a.createElement("div",{className:"row",style:{justifyContent:"flex-end"}},l.a.createElement("div",{className:"col-xs-12 col-sm-2 col-md-2 col-lg-2"},l.a.createElement(f.h,{label:"Month input",name:"month",id:"month",value:E,onChange:function(e){return function(e){var t=e.target.value;t<0||t>12||g(t)}(e)}})),l.a.createElement("div",{className:"col-xs-12 col-sm-2 col-md-2 col-lg-2",style:{display:"table",margin:" auto 0"}},l.a.createElement(Z.a,{placeholder:"Select your Report",options:[{key:"1",value:"1",text:"B\xe1o c\xe1o c\xf4ng n\u1ee3"},{key:"2",value:"2",text:"B\xe1o c\xe1o t\u1ed3n"}],onChange:function(e,t){var a=t.value;return y(a)}})),l.a.createElement("div",{className:"col-xs-12 col-sm-2 col-md-2 col-lg-2",style:{display:"table",margin:" auto 0"}},l.a.createElement(f.b,{type:"phone",color:"warning",onClick:function(){return t(E,k)}},"Check"))),a.length>0||n.length>0?!n.length>0?l.a.createElement(f.e,{hover:!0,entriesOptions:[5,20,25],entries:5,pagesAmount:4,data:s}):l.a.createElement(f.e,{hover:!0,entriesOptions:[5,20,25],entries:5,pagesAmount:4,data:d}):l.a.createElement("p",{className:"text-center mt-4"},"Not available Report")))}var Me=Object(g.b)((function(e){return{datatableBCT:e.datatable.datatableBCT,datatableBCCN:e.datatable.datatableBCCN}}),(function(e){return{actionBook:Object(E.b)(Object(d.a)({},n),e)}})),Ue=[{path:"/",main:Q,exact:!0},{path:"/bansach",main:he,exact:!1},{path:"/nhapsach",main:Re,exact:!1},{path:"/sach",main:Ne,exact:!1},{path:"/report",main:Object(E.d)(Me)((function(e){var t=e.datatableBCT,a=e.datatableBCCN,n=e.actionBook,c=Object(de.useToasts)().addToast,o=function(){var e=Object(b.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==parseInt(a)){e.next=4;break}return e.next=3,O.a.get("".concat(A,"/reportapi/getcongnoreportwithmonth/").concat(t)).then((function(e){return e.data.length>0?(n.handleAddListDataReportBCCN(e.data),c("Get data report success !!",{appearance:"info",autoDismiss:!0})):c("Data report is Empty !!",{appearance:"warning",autoDismiss:!0})})).catch((function(e){return c(U,{appearance:"error",autoDismiss:!0})}));case 3:return e.abrupt("return");case 4:return e.next=6,O.a.get("".concat(A,"/reportapi/getbaocaotonreportwithmonth/").concat(t)).then((function(e){return e.data.length>0?(n.handleAddListDataReportBCT(e.data),c("Get data report success !!",{appearance:"info",autoDismiss:!0})):c("Data report is Empty !!",{appearance:"warning",autoDismiss:!0})})).catch((function(e){return c(U,{appearance:"error",autoDismiss:!0})}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return l.a.createElement("div",null,l.a.createElement(Pe,{datatableBCT:t,datatableBCCN:a,postData:o}))})),exact:!1},{path:"/changerules",main:function(){var e=Object(de.useToasts)().addToast,t=Object(r.useState)(P),a=Object($.a)(t,2),n=a[0],c=a[1],o=Object(r.useState)(R),s=Object($.a)(o,2),i=s[0],u=s[1],m=Object(r.useState)(_),d=Object($.a)(m,2),p=d[0],h=d[1],b=Object(r.useState)(I),E=Object($.a)(b,2),g=E[0],v=E[1],O=function(t){var a;return 1===(a=t,"number"===typeof(a=parseInt(a))&&Math.floor(a)===a?(P=a,1):-1)?e("Change rules success !!",{appearance:"info",autoDismiss:!0}):e("Change rules failed !!",{appearance:"error",autoDismiss:!0})},k=function(t){var a;return 1===(a=t,"number"===typeof(a=parseInt(a))&&Math.floor(a)===a?(R=a,1):-1)?e("Change rules success !!",{appearance:"info",autoDismiss:!0}):e("Change rules failed !!",{appearance:"error",autoDismiss:!0})},y=function(t){var a;return 1===(a=t,"number"===typeof(a=parseInt(a))&&Math.floor(a)===a?(I=a,1):-1)?e("Change rules success !!",{appearance:"info",autoDismiss:!0}):e("Change rules failed !!",{appearance:"error",autoDismiss:!0})},N=function(t){var a;return 1===(a=t,"number"===typeof(a=parseInt(a))&&Math.floor(a)===a?(_=a,1):-1)?e("Change rules success !!",{appearance:"info",autoDismiss:!0}):e("Change rules failed !!",{appearance:"error",autoDismiss:!0})};return l.a.createElement(Y.a,null,l.a.createElement("h2",{className:"text-center m-4"},"Thay \u0111\u1ed5i quy \u0111\u1ecbnh"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-3 col-lg-3"},l.a.createElement(f.h,{label:"Thay \u0111\u1ed5i l\u01b0\u1ee3ng nh\u1eadp \xedt nh\u1ea5t ".concat(P),name:"miin",id:"miin",value:n,onChange:function(e){var t=parseInt(e.target.value);isNaN(t)||t.toString().length>7||c(t)}})),l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-3 col-lg-3",style:{display:"table",margin:" auto 0"}},l.a.createElement(f.b,{type:"phone",color:"warning",onClick:function(){return O(n)}},"Check")),l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-3 col-lg-3"},l.a.createElement(f.h,{label:"Thay \u0111\u1ed5i l\u01b0\u1ee3ng t\u1ed3n \xedt nh\u1ea5t c\xf3 th\u1ec3 nh\u1eadp l\xe0 ".concat(R),name:"inin",id:"inin",value:i,onChange:function(e){var t=parseInt(e.target.value);isNaN(t)||t.toString().length>7||u(t)}})),l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-3 col-lg-3",style:{display:"table",margin:" auto 0"}},l.a.createElement(f.b,{type:"phone",color:"warning",onClick:function(){return k(i)}},"Check")),l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-3 col-lg-3"},l.a.createElement(f.h,{label:"Thay \u0111\u1ed5i n\u1ee3 t\u1ed1i \u0111a c\u1ee7a kh\xe1ch h\xe0ng l\xe0 ".concat(_),name:"made",id:"made",value:p,onChange:function(e){var t=parseInt(e.target.value);isNaN(t)||t.toString().length>7||h(t)}})),l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-3 col-lg-3",style:{display:"table",margin:" auto 0"}},l.a.createElement(f.b,{type:"phone",color:"warning",onClick:function(){return N(p)}},"Check")),l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-3 col-lg-3"},l.a.createElement(f.h,{label:"Thay \u0111\u1ed5i l\u01b0\u1ee3ng t\u1ed3n \xedt nh\u1ea5t sau khi b\xe1n l\xe0 ".concat(I),name:"mibo",id:"mibo",value:g,onChange:function(e){var t=parseInt(e.target.value);isNaN(t)||t.toString().length>7||v(t)}})),l.a.createElement("div",{className:"col-xs-12 col-sm-6 col-md-3 col-lg-3",style:{display:"table",margin:" auto 0"}},l.a.createElement(f.b,{type:"phone",color:"warning",onClick:function(){return y(g)}},"Check"))))},exact:!1},{path:"",main:je,exact:!1}],Le=(a(587),a(240)),Qe=function(){var e=Object(r.useState)("home"),t=Object($.a)(e,2),a=t[0],n=t[1],c=function(e,t){var a=t.name;return n(a)},o=[{to:"/",label:"Trang Ch\u1ee7",exact:!0},{to:"/bansach",label:"B\xe1n S\xe1ch",exact:!1},{to:"/nhapsach",label:"Nh\u1eadp S\xe1ch",exact:!1},{to:"/sach",label:"Th\xf4ng tin S\xe1ch",exact:!1},{to:"/report",label:"B\xe1o C\xe1o",exact:!1},{to:"/changerules",label:"Thay \u0111\u1ed5i quy \u0111\u1ecbnh",exact:!1}],s=function(e){var t=e.label,n=e.to,o=e.exactOnlyWhenActive;return l.a.createElement(m.a,{path:n,exact:o,children:function(e){e.match;return l.a.createElement(Le.a.Item,{as:u.b,to:n,name:t,link:!0,active:a===t,onClick:c})}})};return l.a.createElement(Le.a,{pointing:!0},o.map((function(e){return l.a.createElement(s,{key:e.to,label:e.label,to:e.to,exactOnlyWhenActive:e.exact})})),l.a.createElement(Le.a.Menu,{position:"right"},l.a.createElement(Le.a.Item,null,l.a.createElement(ee.a,{icon:"search",placeholder:"Search..."}))))};var He=function(e){return e.map((function(e){return l.a.createElement(m.a,{key:e.path,path:e.path,exact:e.exact,component:e.main})}))},ze=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(de.ToastProvider,{autoDismiss:!0,autoDismissTimeout:6e3},l.a.createElement(u.a,null,l.a.createElement(Qe,null),l.a.createElement(m.c,null,He(Ue)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(588);var Ke=a(361),Fe={books:[{masach:1,tensach:"pokemon",theloai:"hh",tacgia:"ntt",dongianhap:23,dongiaban:11,soluong:123},{masach:2,tensach:"conan",theloai:"hh",tacgia:"ntt",dongianhap:73,dongiaban:51,soluong:123}],editBook:{},isShowModel:!1},Je=function(e,t){for(var a=-1,n=e.books,c=0;c<n.length;c++)if(parseInt(n[c].masach)===parseInt(t.masach))return a=c;return a},We=function(e,t){return e.forEach((function(e){t.filter((function(t){return t.masach===e.masach}))[0].soluong+=e.soluong})),t},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0,a=-1,n={},c="",o=e.books;switch(t.type){case"SHOW_MODEL":return Object(d.a)(Object(d.a)({},e),{},{isShowModel:!e.isShowModel});case"GET_LIST_BOOKS":return Object(d.a)(Object(d.a)({},e),{},{books:t.payload.data});case"EDIT_BOOK":return c=t.payload.data,Object(d.a)(Object(d.a)({},e),{},{editBook:c});case"EDIT_EMPTY_BOOK":return Object(d.a)(Object(d.a)({},e),{},{editBook:{}});case"ADD_BOOKS":return(c=t.payload.data).dongianhap=0,c.dongiaban=0,c.soluong=0,n=(o=e.books).concat(c),Object(d.a)(Object(d.a)({},e),{},{books:n});case"DELETE_BOOKS":return c=t.payload.data,o=e.books,(a=Je(e,c))>0&&(n=[].concat(Object(H.a)(o.slice(0,a)),Object(H.a)(o.slice(a+1)))),Object(d.a)(Object(d.a)({},e),{},{books:n});case"SET_EDIT_BOOKS":var r=c=t.payload.data,l=r.dongianhap,s=(Object(Ke.a)(r,["dongianhap"]),Math.ceil(parseInt(l)*M));return c.dongiaban=s,o=e.books,n=(a=Je(e,c))>0?[].concat(Object(H.a)(o.slice(0,a)),[c],Object(H.a)(o.slice(a+1))):[c].concat(Object(H.a)(o.slice(a+1))),Object(d.a)(Object(d.a)({},e),{},{books:n});case"UPDATE_QUANTITY_AFTER_CHECKOUT":c=t.payload.data;var i=We(c,o);return Object(d.a)(Object(d.a)({},e),{},{books:i});default:return e;case"UPDATE_PRICE":c=t.payload.data,console.log("bok",c);var u=o.filter((function(e){return e.masach===c.masach}));return u.forEach((function(e){e.dongiaban=Math.ceil(c.dongianhap*M),e.dongianhap=c.dongianhap})),console.log("bok2",u),n=(a=Je(e,c))>0?[].concat(Object(H.a)(o.slice(0,a)),[u[0]],Object(H.a)(o.slice(a+1))):[u[0]].concat(Object(H.a)(o.slice(a+1))),Object(d.a)(Object(d.a)({},e),{},{books:n})}},Ve={cartBanSach:[],cartNhapSach:[],customerBS:{}},qe=function(e,t){var a=-1;return e.forEach((function(e){e.masach===t.masach&&(e.soluong+=1,a=1)})),a<0&&e.push(Object(d.a)(Object(d.a)({},t),{},{soluong:1})),e},$e=function(e,t){var a=-1;return e.forEach((function(e){e.masach===t.masach&&(e.soluong+=parseInt(t.num),a=1)})),a<0&&e.push(Object(d.a)(Object(d.a)({},t),{},{soluong:t.num})),e},Ye=function(e,t){var a=-1;return e.forEach((function(e){e.masach===t.masach&&(e.soluong+=1,a=1)})),a<0&&e.push(Object(d.a)(Object(d.a)({},t),{},{soluong:t.num})),e},Xe=function(e,t){return e.forEach((function(e){e.masach===t.masach&&e.soluong>0&&(e.soluong-=1)})),e},Ze=function(e,t){return e.forEach((function(e){e.masach===t.masach&&e.soluong>150&&(e.soluong-=1)})),e},et=function(e,t){for(var a=-1,n=0;n<t.length;n++)t[n].masach===e.masach&&(a=n);return a},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0,a=e.cartBanSach,n=e.cartNhapSach,c=null,o=null;switch(t.type){case"ADD_TO_CART_BS":case"UP_TO_CART_BS":return c=t.payload.data,o=qe(a,c),localStorage.setItem("carts",JSON.stringify(o)),Object(d.a)(Object(d.a)({},e),{},{cartBanSach:Object(H.a)(o)});case"DOWN_TO_CART_BS":return c=t.payload.data,o=Xe(a,c),localStorage.setItem("carts",JSON.stringify(o)),Object(d.a)(Object(d.a)({},e),{},{cartBanSach:Object(H.a)(o)});case"CLEAR_CART_BS":return localStorage.removeItem("carts"),Object(d.a)(Object(d.a)({},e),{},{cartBanSach:[]});case"DELETE_TO_CART_BS":c=t.payload.data;var r=et(c,a);return o=a.splice(r,1),localStorage.setItem("carts",JSON.stringify(a)),Object(d.a)(Object(d.a)({},e),{},{cartBanSach:Object(H.a)(a)});case"ADD_CUSTOMER":return c=t.payload.data,localStorage.setItem("customerBS",JSON.stringify(c)),Object(d.a)(Object(d.a)({},e),{},{customerBS:c});case"UPDATE_DEBT_CUSTOMER":var l=Object(d.a)(Object(d.a)({},e.customerBS),{},{sotienno:0});return localStorage.setItem("customerBS",JSON.stringify(l)),Object(d.a)(Object(d.a)({},e),{},{customerBS:l});case"DELETE_CUSTOMER":return localStorage.removeItem("customerBS"),Object(d.a)(Object(d.a)({},e),{},{customerBS:{}});case"ADD_TO_CART_NS":return c=t.payload.data,o=$e(n,c),localStorage.setItem("carts",JSON.stringify(o)),Object(d.a)(Object(d.a)({},e),{},{cartNhapSach:Object(H.a)(o)});case"UP_TO_CART_NS":return c=t.payload.data,o=Ye(n,c),localStorage.setItem("carts",JSON.stringify(o)),Object(d.a)(Object(d.a)({},e),{},{cartNhapSach:Object(H.a)(o)});case"DOWN_TO_CART_NS":return c=t.payload.data,o=Ze(n,c),localStorage.setItem("carts",JSON.stringify(o)),Object(d.a)(Object(d.a)({},e),{},{cartNhapSach:Object(H.a)(o)});case"CLEAR_CART_NS":return localStorage.removeItem("carts"),Object(d.a)(Object(d.a)({},e),{},{cartNhapSach:[]});case"DELETE_TO_CART_NS":return c=t.payload.data,r=et(c,n),o=n.splice(r,1),localStorage.setItem("carts",JSON.stringify(n)),Object(d.a)(Object(d.a)({},e),{},{cartNhapSach:Object(H.a)(n)});default:return e}},at={datatableBCT:[],datatableBCCN:[]},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0,a=null;switch(t.type){case"ADD_DATA_REPORT_BCT":return a=t.payload.data,Object(d.a)(Object(d.a)({},e),{},{datatableBCT:Object(H.a)(a),datatableBCCN:[]});case"ADD_DATA_REPORT_BCCN":return a=t.payload.data,Object(d.a)(Object(d.a)({},e),{},{datatableBCCN:Object(H.a)(a),datatableBCT:[]});default:return e}},ct=Object(E.c)({stateBook:Ge,cartList:tt,datatable:nt}),ot=a(360),rt=h.a.mark(lt);function lt(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,!0;case 2:case"end":return e.stop()}}),rt)}var st=lt,it=E.d,ut=Object(ot.a)(),mt=function(){var e=[ut],t=[E.a.apply(void 0,e)],a=Object(E.e)(ct,it.apply(void 0,t));return ut.run(st),a},dt=(a(589),a(590),a(591),mt());i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(g.a,{store:dt}," ",l.a.createElement(ze,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[377,1,2]]]);
//# sourceMappingURL=main.c996826b.chunk.js.map